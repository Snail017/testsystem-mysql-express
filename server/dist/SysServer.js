!function(e){var t={};function s(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=9)}([function(e,t,s){const a=s(14);class i{static redisSet(e,t){return new Promise((s,a)=>{global.client.set(Number(e),t,(e,t)=>{e&&a(e),s(t)})})}static redisGet(e){return new Promise((t,s)=>{global.client.get(Number(e),(e,a)=>{e&&s(e),t(a)})})}static async checkToken(e){try{let t=Number(new Date),s=await a.verify(e,global.private_key),n=s.sub;if(s.exp<t){let s=await i.redisGet(e);if((await a.verify(s,global.private_key)).exp<t)return{status:404};{let e=await i.setToken(n,86400),t=await i.setToken(n,60);return i.redisSet(e,e),{status:202,access_token:t,uid:n,msg:"更新token"}}}return{status:200,uid:n,msg:"token有效中"}}catch(e){return{status:404,msg:e}}}static setToken(e,t){var s={iss:"1670644339@qq.com",sub:e,exp:(new Date).getTime()+1e3*t,aud:"1670644339@qq.com",iat:(new Date).getTime()};return a.sign(s,global.private_key)}}e.exports=i},function(e,t,s){const a=s(18),i=s(19);var n=new a(i.mysql.database,i.mysql.user,i.mysql.password,{host:i.mysql.host,dialect:"mysql",operatorsAliases:!1,dialectOptions:{charset:"utf8mb4",supportBigNumbers:!0,bigNumberStrings:!0},pool:{max:5,min:0,acquire:3e4,idle:1e4},timezone:"+08:00"});n.authenticate().then(()=>{console.log("Connection has been established successfully.")}).catch(e=>{console.error("Unable to connect to the database:",e)}),e.exports={sequelize:n}},function(e,t,s){const a=s(1).sequelize.import("../schema/question.js");a.sync({force:!1});e.exports=class{static async createQues(e){let{problem:t,analysis:s,note:i,sort:n,score:o,questionType:r,exam_id:c,answer:u}=e;return await a.create({problem:t,analysis:s,note:i,score:o,sort:n,questionType:r,exam_id:c,answer:u})}static async alterQues(e){let{problem:t,analysis:s,note:i,sort:n,score:o,questionType:r,exam_id:c,answer:u,question_id:d}=e;return await a.update({problem:t,analysis:s,note:i,score:o,sort:n,questionType:r,exam_id:c,answer:u},{where:{id:d}}),!0}static async selectQues(e){return await a.findAll({where:{exam_id:e},order:[["sort","ASC"]]})}static async delQues(e){let{id:t}=e;return await a.destroy({where:{id:t}}),!0}static async delQuesByExamid(e){return await a.destroy({where:{exam_id:e}}),!0}}},function(e,t,s){const a=s(1).sequelize.import("../schema/option.js");a.sync({force:!1});e.exports=class{static async createOption(e){let{question_id:t,exam_id:s,text:i,answer:n,sort:o,img:r,introduce:c}=e;return await a.create({question_id:t,exam_id:s,text:i,answer:n,sort:o,img:r,introduce:c.editorTxt,isUrl:Number(c.isUrl)})}static async alterOption(e){let{option_id:t,question_id:s,exam_id:i,text:n,answer:o,sort:r,img:c,introduce:u}=e;return await a.update({text:n,answer:String(o),sort:r,img:c,introduce:u.editorTxt,isUrl:Number(u.isUrl)},{where:{question_id:s,id:t,exam_id:i}}),!0}static async findAllOption(e){let{id:t}=e;return await a.findAll({where:{question_id:t}})}static async deleteOption(e){let{option_id:t}=e;return await a.destroy({where:{id:t}}),!0}static async deleteOptionByQuesid(e){return await a.destroy({where:{question_id:e}}),!0}static async deleteOptionByExamid(e){return await a.destroy({where:{exam_id:e}}),!0}}},function(e,t){e.exports=class{static async checkData(e,t){let s=[];for(let t in e)if(void 0===e[t]){let e=s.length+1;s.push("错误"+e+": 参数: "+t+"不能为空")}return!(s.length>0&&(t.status=412,t.json({code:412,msg:s}),1))}}},function(e,t,s){const a=s(1).sequelize,i=a.import("../schema/exam.js"),n=a.Op;i.sync({force:!1});e.exports=class{static async createExam(e){let{title:t,user_id:s,explain:a,testtime:n,status:o,sort:r,designated:c}=e;return await i.create({title:t,user_id:s,explain:a,testtime:n,status:o,sort:r,designated:c})}static async alterExam(e){let{title:t,user_id:s,explain:a,testtime:n,status:o,sort:r,designated:c,exam_id:u}=e;return await i.update({title:t,user_id:s,explain:a,testtime:n,status:o,sort:r,designated:c},{where:{id:u}}),!0}static async getlist(e){let{user_id:t,status:s,title:a,page:o,pagecount:r}=e;return await i.findAll({where:{userid:t,status:-1==s?{[n.lt]:3}:s,[n.or]:{title:{[n.like]:"%"+a+"%"},id:{[n.like]:"%"+a+"%"}}},offset:(Number(r)-1)*o,limit:Number(o),order:[["id","DESC"]]})}static async findExam(e){let{exam_id:t}=e;return await i.findAll({where:{id:t}})}static async deleteExam(e){return await i.destroy({where:{id:e}}),!0}static async changeStatus(e){let{user_id:t,exam_id:s,status:a}=e;return await i.update({status:a},{where:{userid:t,id:s}})}}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("express")},function(e,t,s){const a=s(6),i=(s(7),s(10)),n=s(11),o=s(12),r=s(8),c=(s(13),s(0)),u=r();global.public_key=a.readFileSync(__dirname+"/key/pub.key").toString(),global.private_key=a.readFileSync(__dirname+"/key/pri.key").toString(),u.use(n()),u.use(i.json());const d=s(15);u.all("*",async(e,t,s)=>{if(t.header("Access-Control-Expose-Headers","Authorization"),t.header("Cache-Control","no-store"),"/publicKey"!=e.path&&"/captcha"!=e.path&&"/login"!=e.path&&"/register"!=e.path){const a=await c.checkToken(e.headers.authorization);try{404==a.status?t.json({code:401,msg:"token已过期，请重新登录"}):(202==a.status&&t.header("Authorization",a.access_token),s())}catch(e){t.json({code:500,msg:e})}}else s()}),u.use("/",d),global.client=o.createClient(6379,"127.0.0.1"),global.client.on("error",function(e){console.log("redis Error "+e)}),global.client.on("connect",function(){global.client.set("private_key",global.private_key,o.print),global.client.set("public_key",global.private_key,o.print)}),global.client.on("ready",function(e,t){console.log("redis success.....")}),u.listen(3e3,"localhost",function(e,t){e&&console.log(e),console.log("success listen at port:3000......")})},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("redis")},function(e,t){e.exports=require("webpack-dev-middleware")},function(e,t){e.exports=require("jsonwebtoken")},function(e,t,s){const a=s(8),i=s(16),n=s(22),o=s(24),r=s(26),c=s(27),u=s(28),d=a.Router();d.post("/register",i.create),d.post("/login",i.login),d.post("/users",i.list),d.get("/captcha",i.code),d.get("/publicKey",i.public_key),d.post("/Uploadpic",u.single("img"),i.uploadImg),d.post("/ExamTitle",n.create),d.post("/questions",r.create),d.patch("/questions",r.patchQues),d.get("/questionnaireList",n.getlist),d.get("/questions",r.getQuestions),d.delete("/questions",r.deletequestion),d.delete("/option",c.deleteOption),d.patch("/Exam",n.patchExam),d.delete("/Exam",n.deleteExam),d.get("/answerList",o.answerList),e.exports=d},function(e,t,s){const a=s(17),i=s(20),n=s(21),o=s(0);e.exports=class{static async create(e,t){let s={Nickname:e.body.name,Password:e.body.password},i=[];for(let e in s)if(void 0===s[e]){let t=i.length+1;i.push("错误"+t+": 参数: "+e+"不能为空")}if(i.length>0)return t.status=412,t.json({code:412,msg:i}),!1;if(await a.Nickname(s.Nickname))t.status=403,t.json({code:403,msg:"用户已经存在"});else try{s.Password=n.privateDecrypt(global.private_key,Buffer.from(s.Password,"base64")).toString();const e=await a.create(s),i=o.setToken(e.id,36e3),r=o.setToken(e.id,1296e3);o.redisSet(i,r),t.status=200,t.json({code:200,msg:"创建用户成功"})}catch(e){t.status=500,t.json({code:500,msg:e})}}static async login(e,t){let s={Nickname:e.body.name,Password:e.body.password},i=[];for(let e in s)if(void 0===s[e]){let t=i.length+1;i.push("错误"+t+": 参数: "+e+"不能为空")}if(i.length>0)return t.status=412,t.json({code:412,msg:i}),!1;s.Password=n.privateDecrypt(global.private_key,Buffer.from(s.Password,"base64"));const r=await a.Password(s.Nickname,s.Password);if(r)try{const e=o.setToken(r.id,60),s=o.setToken(r.id,1296e3);o.redisSet(e,s),t.status=200,t.json({code:200,msg:"用户登录成功",data:{access_token:e,user_id:r.id}})}catch(e){t.status=500,t.json({code:500,msg:e})}else t.json({code:404,msg:"用户名或密码错误"})}static async code(e,t){var s=i.create({inverse:!1,fontSize:36,noise:2,width:80,height:30});e.session=s.text.toLowerCase(),t.cookie("captcha",e.session),t.json({code:200,img:s.data,msg:e.session})}static async public_key(e,t){t.json({code:200,msg:global.public_key})}static async list(e,t){let s=e.body,i=[];for(let e in s)if(void 0===s[e]){let t=i.length+1;i.push("错误"+t+": 参数: "+e+"不能为空")}if(i.length>0)return t.status=412,t.json({code:412,msg:i}),!1;const n=await a.findAllUserList(s.type);if(n)try{t.json({code:200,data:n})}catch(e){t.json({code:500,msg:e})}}static uploadImg(e,t,s){t.json({code:200,data:{img:"http://zq.img.com/"+e.file.filename}})}}},function(e,t,s){const a=s(1).sequelize.import("../schema/user.js");a.sync({force:!1});e.exports=class{static async create(e){let{Nickname:t,Password:s}=e;return await a.create({Nickname:t,Password:s})}static async delete(e){return await a.destroy({where:{id:e}}),!0}static async findAllUserList(e){return Number(e)?await a.findAll({attributes:["id","Nickname"],where:{type:e}}):await a.findAll({attributes:["id","Nickname"]})}static async Nickname(e){return await a.findOne({where:{Nickname:e}})}static async Password(e,t){return await a.findOne({where:{Nickname:e,Password:t}})}}},function(e,t){e.exports=require("sequelize")},function(e,t){e.exports={mysql:{host:"95.169.20.53",user:"root",password:"Zq@574839",database:"zqq",port:"3306"}}},function(e,t){e.exports=require("svg-captcha")},function(e,t){e.exports=require("crypto")},function(e,t,s){const a=s(5),i=s(2),n=s(3),o=(s(23),s(4)),r=s(0);e.exports=class{static async create(e,t){let s=e.body,i=await r.checkToken(e.headers.authorization);if(s.user_id=i.uid,!await o.checkData(s,t))return!1;try{if(0==s.exam_id){const e=await a.createExam(s);e&&(t.status=200,t.json({code:200,data:{id:e.id},msg:"提交成功！"}))}else await a.alterExam(s)&&(t.status=200,t.json({code:200,data:{id:s.exam_id},msg:"修改成功"}))}catch(e){return t.status=412,t.json({code:412,msg:e}),!1}}static async getlist(e,t){let s=e.query,i=await r.checkToken(e.headers.authorization);if(s.user_id=i.uid,!await o.checkData(s,t))return!1;const n=await a.getlist(s);try{t.status=200,t.json({code:200,data:{users:n,data_total:"2",p:"1",page_rows:"10",page_total:1}})}catch(e){return t.status=412,t.json({code:412,msg:e}),!1}}static async patchExam(e,t){let s=e.body,i=await r.checkToken(e.headers.authorization);if(s.user_id=i.uid,!await o.checkData(s,t))return!1;try{await a.changeStatus(s),t.status=200,t.json({code:200,msg:"状态修改成功"})}catch(e){return t.status=412,t.json({code:500,msg:e}),!1}}static async deleteExam(e,t){let s=e.body;if(!await o.checkData(s,t))return!1;try{await n.deleteOptionByExamid(s.exam_id),await i.delQuesByExamid(s.exam_id),await a.deleteExam(s.exam_id),t.status=200,t.json({code:200,msg:"问卷删除成功"})}catch(e){t.status=412,t.json({code:500,data:e})}}}},function(e,t,s){const a=s(1).sequelize,i=a.import("../schema/user_exam.js");a.Op;i.sync({force:!1});e.exports=class{static async create(e){let{user_id:t,exam_id:s,status:a}=e;return i.create({user_id:t,exam_id:s,status:a})}static async getExam(e){let{status:t,userid:s}=e;return i.findAll({where:{userid:s,status:-1==t?">0":t}})}static async getUser(e){return i.findAll({where:{examid:examid}})}}},function(e,t,s){const a=s(25),i=(s(2),s(3),s(4)),n=s(0);e.exports=class{static async answerList(e,t){let s=e.query,o=await n.checkToken(e.headers.authorization);if(s.user_id=o.uid,!await i.checkData(s))return!1;try{await a.answerList(s)}catch(e){return t.status=412,t.json({code:500,msg:e}),!1}}}},function(e,t,s){const a=s(1).sequelize.import("../schema/answer.js");a.sync({force:!1});e.exports=class{static async answerList(e){let{user_id:t,exam_id:s,content:i}=e;return a.findAll({where:{examid:s,id:i,or:[{userid:i},{userid:t}]}})}}},function(e,t,s){const a=s(5),i=s(2),n=s(3),o=s(4),r=s(0);e.exports=class{static async deletequestion(e,t){let s=e.body;if(!await o.checkData(s,t))return!1;try{await n.deleteOptionByQuesid(s.id),await i.delQues(s),t.status=200,t.json({code:200,msg:"题目删除成功"})}catch(e){t.status=500,t.json({code:500,data:e})}}static async create(e,t){let s=e.body;if(!o.checkData(s,t))return!1;try{const e=await i.createQues(s);if(e){if(0!=s.questionType)for(let t in s.optiondata){let a=s.optiondata[t];a.exam_id=s.exam_id,a.question_id=e.id,await n.createOption(a)}t.status=200,t.json({code:200,msg:"上传成功"})}}catch(e){return t.status=412,t.json({code:500,msg:e}),!1}}static async patchQues(e,t){let s=e.body;if(!o.checkData(s,t))return!1;try{const e=await i.alterQues(s);if(0!=s.questionType)for(let e in s.optiondata)if(s.optiondata[e].question_id=s.question_id,s.optiondata[e].exam_id=s.exam_id,0==s.optiondata[e].option_id){if(!await n.createOption(s.optiondata[e]))return t.status=500,t.json({code:500,msg:"题目上传错误"}),!1}else if(!await n.alterOption(s.optiondata[e]))return t.status=500,t.json({code:500,msg:"题目上传错误"}),!1;e&&(t.status=200,t.json({code:200}))}catch(e){t.status=412,t.json({code:500,msg:e})}}static async getQuestions(e,t){let s=e.query,c=await r.checkToken(e.headers.authorization);if(s.user_id=c.uid,!await o.checkData(s,t))return!1;const u=await a.findExam(s),d=await i.selectQues(s.exam_id);try{if(u){let e=u[0].dataValues,s=[],a=[];for(let e in d)s.push(d[e].dataValues),a=await n.findAllOption(d[e].dataValues),s[e].optiondata=a,s[e].question_id=d[e].dataValues.id;e.list=s,t.status=200,t.json({code:200,data:e})}}catch(e){return t.status=500,t.json({code:500,data:e}),!1}}}},function(e,t,s){s(5),s(2);const a=s(3),i=s(4);s(0);e.exports=class{static async deleteOption(e,t){let s=e.body;if(!await i.checkData(s,t))return!1;try{await a.deleteOption(s)&&(t.status=200,t.json({code:200,msg:"选项删除成功"}))}catch(e){t.status=500,t.json({code:500,msg:e})}}}},function(e,t,s){const a=s(29),i=s(7),n=s(6);!function(e){try{n.accessSync(e)}catch(t){n.mkdirSync(e)}}("../UserPic/");var o=a.diskStorage({destination:function(e,t,s){s(null,"../UserPic/")},filename:function(e,t,s){var a=i.extname(t.originalname);s(null,t.fieldname+"-"+Date.now()+a)}}),r=a({storage:o});e.exports=r},function(e,t){e.exports=require("multer")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2NvbmZpZy90b2tlbi5jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2NvbmZpZy9zZXF1ZWxpemUuY29uZmlnLmpzIiwid2VicGFjazovLy8uL3NlcnZlci9tb2RlbHMvcXVlc01vZGVsLmpzIiwid2VicGFjazovLy8uL3NlcnZlci9tb2RlbHMvb3B0aW9uTW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2NvbnRyb2xsZXJzL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvbW9kZWxzL2V4YW1Nb2RlbC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInBhdGhcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2FwcC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvb2tpZS1wYXJzZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcIndlYnBhY2stZGV2LW1pZGRsZXdhcmVcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIiIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvcm91dGVzLmpzIiwid2VicGFjazovLy8uL3NlcnZlci9jb250cm9sbGVycy91c2VyLmpzIiwid2VicGFjazovLy8uL3NlcnZlci9tb2RlbHMvdXNlck1vZGVsLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcInNlcXVlbGl6ZVwiIiwid2VicGFjazovLy8uL3NlcnZlci9jb25maWcvZGF0YWJzZS5jb25maWcuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwic3ZnLWNhcHRjaGFcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjcnlwdG9cIiIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvY29udHJvbGxlcnMvZXhhbS5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvbW9kZWxzL3VzZXJleGFtTW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2NvbnRyb2xsZXJzL2Fuc3dlci5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvbW9kZWxzL2Fuc3dlck1vZGVsLmpzIiwid2VicGFjazovLy8uL3NlcnZlci9jb250cm9sbGVycy9xdWVzdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvY29udHJvbGxlcnMvb3B0aW9uLmpzIiwid2VicGFjazovLy8uL3NlcnZlci9jb250cm9sbGVycy91cGxvYWQuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibXVsdGVyXCIiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJqd3QiLCJUb2tlbiIsIltvYmplY3QgT2JqZWN0XSIsInZhbCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZ2xvYmFsIiwiY2xpZW50Iiwic2V0IiwiTnVtYmVyIiwiZXJyIiwicmVzIiwidG9rZW4iLCJub3dEYXRlIiwiRGF0ZSIsImp3dF9hY2Nlc3NfdG9rZW4iLCJ2ZXJpZnkiLCJwcml2YXRlX2tleSIsImlkIiwic3ViIiwiZXhwIiwib2xkX3JlZnJlc2hfdG9rZW4iLCJyZWRpc0dldCIsInN0YXR1cyIsIm5ld19mcmVzaF90b2tlbiIsInNldFRva2VuIiwibmV3X2FjY2Vzc190b2tlbiIsInJlZGlzU2V0IiwiYWNjZXNzX3Rva2VuIiwidWlkIiwibXNnIiwidXNlcmlkIiwib3ZlcnRpbWUiLCJwbGF5bG9hZCIsImlzcyIsImdldFRpbWUiLCJhdWQiLCJpYXQiLCJzaWduIiwiU2VxdWVsaXplIiwibW9kZWxzIiwic2VxdWVsaXplIiwibXlzcWwiLCJkYXRhYmFzZSIsInVzZXIiLCJwYXNzd29yZCIsImhvc3QiLCJkaWFsZWN0Iiwib3BlcmF0b3JzQWxpYXNlcyIsImRpYWxlY3RPcHRpb25zIiwiY2hhcnNldCIsInN1cHBvcnRCaWdOdW1iZXJzIiwiYmlnTnVtYmVyU3RyaW5ncyIsInBvb2wiLCJtYXgiLCJtaW4iLCJhY3F1aXJlIiwiaWRsZSIsInRpbWV6b25lIiwiYXV0aGVudGljYXRlIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwiUXVlcyIsImltcG9ydCIsInN5bmMiLCJmb3JjZSIsImV4YW0iLCJwcm9ibGVtIiwiYW5hbHlzaXMiLCJub3RlIiwic29ydCIsInNjb3JlIiwicXVlc3Rpb25UeXBlIiwiZXhhbV9pZCIsImFuc3dlciIsInF1ZXN0aW9uX2lkIiwidXBkYXRlIiwid2hlcmUiLCJmaW5kQWxsIiwib3JkZXIiLCJkZXN0cm95IiwiT3B0aW9uIiwidGV4dCIsImltZyIsImludHJvZHVjZSIsImVkaXRvclR4dCIsImlzVXJsIiwib3B0aW9uX2lkIiwiU3RyaW5nIiwicGFyYW1zIiwiZXJyb3JzIiwiaXRlbSIsInVuZGVmaW5lZCIsImluZGV4IiwibGVuZ3RoIiwicHVzaCIsImpzb24iLCJjb2RlIiwiRXhhbSIsIk9wIiwidGl0bGUiLCJ1c2VyX2lkIiwiZXhwbGFpbiIsInRlc3R0aW1lIiwiZGVzaWduYXRlZCIsInBhZ2UiLCJwYWdlY291bnQiLCJsdCIsIm9yIiwibGlrZSIsIm9mZnNldCIsImxpbWl0IiwicmVxdWlyZSIsImZzIiwiYm9keVBhcnNlciIsImNvb2tpZVBhcmFzZSIsInJlZGlzIiwiZXhwcmVzcyIsImFwcCIsInB1YmxpY19rZXkiLCJyZWFkRmlsZVN5bmMiLCJfX2Rpcm5hbWUiLCJ0b1N0cmluZyIsInVzZSIsInJvdXRlcyIsImFsbCIsImFzeW5jIiwicmVxIiwibmV4dCIsImhlYWRlciIsInBhdGgiLCJjaGVja1Rva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJjcmVhdGVDbGllbnQiLCJvbiIsInByaW50IiwibGlzdGVuIiwiVXNlciIsIkFuc3dlciIsInVwbG9hZCIsIlJvdXRlcnMiLCJSb3V0ZXIiLCJwb3N0IiwibG9naW4iLCJsaXN0Iiwic2luZ2xlIiwidXBsb2FkSW1nIiwicGF0Y2giLCJwYXRjaFF1ZXMiLCJnZXRsaXN0IiwiZ2V0UXVlc3Rpb25zIiwiZGVsZXRlIiwiZGVsZXRlcXVlc3Rpb24iLCJkZWxldGVPcHRpb24iLCJwYXRjaEV4YW0iLCJkZWxldGVFeGFtIiwiYW5zd2VyTGlzdCIsIlVzZXJNb2RlbCIsInN2Z0NhcHRjaGEiLCJjcnlwdG8iLCJOaWNrbmFtZSIsImJvZHkiLCJQYXNzd29yZCIsInByaXZhdGVEZWNyeXB0IiwiQnVmZmVyIiwiZnJvbSIsIm5ld1VzZXIiLCJyZWZyZXNoX3Rva2VuIiwiZXhpc3RVc2VyIiwiZGF0YSIsImNhcHRjaGEiLCJpbnZlcnNlIiwiZm9udFNpemUiLCJub2lzZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2Vzc2lvbiIsInRvTG93ZXJDYXNlIiwiY29va2llIiwidXNlckxpc3QiLCJmaW5kQWxsVXNlckxpc3QiLCJ0eXBlIiwiZmlsZSIsImZpbGVuYW1lIiwiYXR0cmlidXRlcyIsImZpbmRPbmUiLCJwb3J0IiwiZXhhbU1vZGVsIiwicXVlc01vZGVsIiwib3B0aW9uTW9kZWwiLCJjb21tb24iLCJjaGVja0RhdGEiLCJjcmVhdGVFeGFtIiwiYWx0ZXJFeGFtIiwicXVlcnkiLCJ1c2VycyIsImRhdGFfdG90YWwiLCJwYWdlX3Jvd3MiLCJwYWdlX3RvdGFsIiwiY2hhbmdlU3RhdHVzIiwiZGVsZXRlT3B0aW9uQnlFeGFtaWQiLCJkZWxRdWVzQnlFeGFtaWQiLCJ1c2VyRXhhbSIsImV4YW1pZCIsImFuc3dlck1vZGVsIiwiY29udGVudCIsImRlbGV0ZU9wdGlvbkJ5UXVlc2lkIiwiZGVsUXVlcyIsImNyZWF0ZVF1ZXMiLCJvcHRpb25kYXRhIiwibHNfb3B0aW9uIiwiY3JlYXRlT3B0aW9uIiwiYWx0ZXJRdWVzIiwiYWx0ZXJPcHRpb24iLCJmaW5kRXhhbSIsInF1ZXN0aW9ucyIsInNlbGVjdFF1ZXMiLCJsc190aXRsZSIsImRhdGFWYWx1ZXMiLCJsc19xdWVzdGlvbiIsImZpbmRBbGxPcHRpb24iLCJtdWx0ZXIiLCJmb2xkZXIiLCJhY2Nlc3NTeW5jIiwiZSIsIm1rZGlyU3luYyIsImNyZWF0ZUZvbGRlciIsInN0b3JhZ2UiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiY2IiLCJleHRuYW1lIiwib3JpZ2luYWxuYW1lIiwiZmllbGRuYW1lIiwibm93Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElBQXFCQyxLQUFBLEtBQUFELElBQ3JJLE9BQUFGLEdBSUF6QixFQUFBNkIsRUFBQSxTQUFBMUIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBcUIsV0FDQSxXQUEyQixPQUFBckIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQWlCLEVBQUFDLEdBQXNELE9BQUFqQixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUF1QixFQUFBQyxJQUd0RC9CLEVBQUFrQyxFQUFBLEdBSUFsQyxJQUFBbUMsRUFBQSxxQkNsRkEsTUFBQUMsRUFBVXBDLEVBQVEsSUFLbEIsTUFBQXFDLEVBTUFDLGdCQUFBWCxFQUFBWSxHQUNBLFdBQUFDLFFBQUEsQ0FBQUMsRUFBQUMsS0FDQUMsT0FBQUMsT0FBQUMsSUFBQUMsT0FBQW5CLEdBQUFZLEVBQUEsQ0FBQVEsRUFBQUMsS0FDQUQsR0FBQUwsRUFBQUssR0FDQU4sRUFBQU8sT0FXQVYsZ0JBQUFYLEdBQ0EsV0FBQWEsUUFBQSxDQUFBQyxFQUFBQyxLQUNBQyxPQUFBQyxPQUFBM0IsSUFBQTZCLE9BQUFuQixHQUFBLENBQUFvQixFQUFBQyxLQUNBRCxHQUFBTCxFQUFBSyxHQUNBTixFQUFBTyxPQVlBVix3QkFBQVcsR0FDQSxJQUNBLElBQUFDLEVBQUFKLE9BQUEsSUFBQUssTUFFQUMsUUFBQWhCLEVBQUFpQixPQUFBSixFQUFBTixPQUFBVyxhQUNBQyxFQUFBSCxFQUFBSSxJQUNBLEdBQUFKLEVBQUFLLElBQUFQLEVBQUEsQ0FFQSxJQUFBUSxRQUFBckIsRUFBQXNCLFNBQUFWLEdBRUEsVUFEQWIsRUFBQWlCLE9BQUFLLEVBQUFmLE9BQUFXLGNBQ0FHLElBQUFQLEVBQ0EsT0FDQVUsT0FBQSxLQUVpQixDQUNqQixJQUFBQyxRQUFBeEIsRUFBQXlCLFNBQUFQLEVBQUEsT0FDQVEsUUFBQTFCLEVBQUF5QixTQUFBUCxFQUFBLElBRUEsT0FEQWxCLEVBQUEyQixTQUFBSCxLQUNBLENBQ0FELE9BQUEsSUFDQUssYUFBQUYsRUFDQUcsSUFBQVgsRUFDQVksSUFBQSxZQUlBLE9BQ0FQLE9BQUEsSUFDQU0sSUFBQVgsRUFDQVksSUFBQSxZQUlTLE1BQUFwQixHQUNULE9BQ0FhLE9BQUEsSUFDQU8sSUFBQXBCLElBY0FULGdCQUFBOEIsRUFBQUMsR0FDQSxJQUFBQyxFQUFBLENBQ0FDLElBQUEsb0JBQ0FmLElBQUFZLEVBQ0FYLEtBQUEsSUFBQU4sTUFBQXFCLFVBQUEsSUFBQUgsRUFDQUksSUFBQSxvQkFDQUMsS0FBQSxJQUFBdkIsTUFBQXFCLFdBR0EsT0FEQXBDLEVBQUF1QyxLQUFBTCxFQUFBM0IsT0FBQVcsY0FNQW5ELEVBQUFELFFBQUFtQyxtQkN6R0EsTUFBQXVDLEVBQWtCNUUsRUFBUSxJQUMxQjZFLEVBQWU3RSxFQUFRLElBSXZCLElBQUE4RSxFQUFBLElBQUFGLEVBQUFDLEVBQUFFLE1BQUFDLFNBQUFILEVBQUFFLE1BQUFFLEtBQUFKLEVBQUFFLE1BQUFHLFNBQUEsQ0FDQUMsS0FBQU4sRUFBQUUsTUFBQUksS0FDQUMsUUFBQSxRQUNBQyxrQkFBQSxFQUNBQyxlQUFBLENBQ0FDLFFBQUEsVUFFQUMsbUJBQUEsRUFDQUMsa0JBQUEsR0FHQUMsS0FBQSxDQUNBQyxJQUFBLEVBQ0FDLElBQUEsRUFDQUMsUUFBQSxJQUNBQyxLQUFBLEtBRUFDLFNBQUEsV0FJQWpCLEVBQUFrQixlQUNBQyxLQUFBLEtBQ0FDLFFBQUFDLElBQUEsbURBRUFDLE1BQUFyRCxJQUNBbUQsUUFBQUcsTUFBQSxxQ0FBQXRELEtBR0E1QyxFQUFBRCxRQUFBLENBQ0E0RSw4QkNwQ0EsTUFFQXdCLEVBRld0RyxFQUFRLEdBQ25COEUsVUFDQXlCLE9BQUEseUJBRUFELEVBQUFFLEtBQUEsQ0FBV0MsT0FBQSxJQTJEWHRHLEVBQUFELFFBekRBLE1BTUFvQyx3QkFBQW9FLEdBQ0EsSUFBQUMsUUFBYUEsRUFBQUMsV0FBQUMsT0FBQUMsT0FBQUMsUUFBQUMsZUFBQUMsVUFBQUMsVUFBc0VSLEVBSW5GLGFBSEFKLEVBQUE1RSxPQUFBLENBQ0FpRixVQUFBQyxXQUFBQyxPQUFBRSxRQUFBRCxPQUFBRSxlQUFBQyxVQUFBQyxXQUtBNUUsdUJBQUFvRSxHQUNBLElBQUFDLFFBQWFBLEVBQUFDLFdBQUFDLE9BQUFDLE9BQUFDLFFBQUFDLGVBQUFDLFVBQUFDLFNBQUFDLGVBQW1GVCxFQVFoRyxhQVBBSixFQUFBYyxPQUFBLENBQ0FULFVBQUFDLFdBQUFDLE9BQUFFLFFBQUFELE9BQUFFLGVBQUFDLFVBQUFDLFVBQ1MsQ0FDVEcsTUFBQSxDQUNBOUQsR0FBQTRELE1BR0EsRUFHQTdFLHdCQUFBMkUsR0FTQSxhQVJBWCxFQUFBZ0IsUUFBQSxDQUNBRCxNQUFBLENBQ0FKLFdBRUFNLE1BQUEsQ0FDQSxrQkFLQWpGLHFCQUFBb0UsR0FDQSxJQUFBbkQsR0FBYUEsR0FBS21ELEVBT2xCLGFBTkFKLEVBQUFrQixRQUFBLENBQ0FILE1BQUEsQ0FDQTlELFNBSUEsRUFFQWpCLDZCQUFBMkUsR0FNQSxhQUxBWCxFQUFBa0IsUUFBQSxDQUNBSCxNQUFBLENBQ0FKLGNBR0EscUJDM0RBLE1BRUFRLEVBRld6SCxFQUFRLEdBQ25COEUsVUFDQXlCLE9BQUEsdUJBRUFrQixFQUFBakIsS0FBQSxDQUFhQyxPQUFBLElBb0ZidEcsRUFBQUQsUUFsRkEsTUFNQW9DLDBCQUFBb0UsR0FDQSxJQUFBUyxZQUFhQSxFQUFBRixVQUFBUyxPQUFBUixTQUFBSixPQUFBYSxNQUFBQyxhQUEwRGxCLEVBSXZFLGFBSEFlLEVBQUEvRixPQUFBLENBQ0F5RixjQUFBRixVQUFBUyxPQUFBUixTQUFBSixPQUFBYSxNQUFBQyxZQUFBQyxVQUFBQyxNQUFBaEYsT0FBQThFLEVBQUFFLFNBUUF4Rix5QkFBQW9FLEdBQ0EsSUFBQXFCLFVBQWFBLEVBQUFaLGNBQUFGLFVBQUFTLE9BQUFSLFNBQUFKLE9BQUFhLE1BQUFDLGFBQXFFbEIsRUFVbEYsYUFUQWUsRUFBQUwsT0FBQSxDQUNBTSxPQUFBUixPQUFBYyxPQUFBZCxHQUFBSixPQUFBYSxNQUFBQyxZQUFBQyxVQUFBQyxNQUFBaEYsT0FBQThFLEVBQUFFLFFBQ1MsQ0FDVFQsTUFBQSxDQUNBRixjQUNBNUQsR0FBQXdFLEVBQ0FkLGNBR0EsRUFNQTNFLDJCQUFBb0UsR0FDQSxJQUFBbkQsR0FBYUEsR0FBS21ELEVBTWxCLGFBTEFlLEVBQUFILFFBQUEsQ0FDQUQsTUFBQSxDQUNBRixZQUFBNUQsS0FTQWpCLDBCQUFBVSxHQUNBLElBQUErRSxVQUFhQSxHQUFZL0UsRUFNekIsYUFMQXlFLEVBQUFELFFBQUEsQ0FDQUgsTUFBQSxDQUNBOUQsR0FBQXdFLE1BR0EsRUFNQXpGLGtDQUFBNkUsR0FNQSxhQUxBTSxFQUFBRCxRQUFBLENBQ0FILE1BQUEsQ0FDQUYsa0JBR0EsRUFNQTdFLGtDQUFBMkUsR0FNQSxhQUxBUSxFQUFBRCxRQUFBLENBQ0FILE1BQUEsQ0FDQUosY0FHQSxtQkMxREE5RyxFQUFBRCxRQTFCQSxNQU1Bb0MsdUJBQUEyRixFQUFBakYsR0FDQSxJQUFBa0YsRUFBQSxHQUNBLFFBQUFDLEtBQUFGLEVBQ0EsUUFBQUcsSUFBQUgsRUFBQUUsR0FBQSxDQUNBLElBQUFFLEVBQUFILEVBQUFJLE9BQUEsRUFDQUosRUFBQUssS0FBQSxLQUFBRixFQUFBLFNBQUFGLEVBQUEsUUFJQSxRQUFBRCxFQUFBSSxPQUFBLElBQ0F0RixFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUErRCxJQUVBLHVCQ3JCQSxNQUNBdEQsRUFEVzVFLEVBQVEsR0FDbkI4RSxVQUNBNEQsRUFBQTlELEVBQUEyQixPQUFBLHFCQUNBb0MsRUFBQS9ELEVBQUErRCxHQUVBRCxFQUFBbEMsS0FBQSxDQUFXQyxPQUFBLElBeUdYdEcsRUFBQUQsUUF2R0EsTUFNQW9DLHdCQUFBb0UsR0FDQSxJQUFBa0MsTUFBYUEsRUFBQUMsVUFBQUMsVUFBQUMsV0FBQW5GLFNBQUFrRCxPQUFBa0MsY0FBOER0QyxFQVUzRSxhQVRBZ0MsRUFBQWhILE9BQUEsQ0FDQWtILFFBQ0FDLFVBQ0FDLFVBQ0FDLFdBQ0FuRixTQUNBa0QsT0FDQWtDLGVBSUExRyx1QkFBQW9FLEdBQ0EsSUFBQWtDLE1BQWFBLEVBQUFDLFVBQUFDLFVBQUFDLFdBQUFuRixTQUFBa0QsT0FBQWtDLGFBQUEvQixXQUF1RVAsRUFjcEYsYUFiQWdDLEVBQUF0QixPQUFBLENBQ0F3QixRQUNBQyxVQUNBQyxVQUNBQyxXQUNBbkYsU0FDQWtELE9BQ0FrQyxjQUNTLENBQ1QzQixNQUFBLENBQ0E5RCxHQUFBMEQsTUFHQSxFQVVBM0UscUJBQUFvRSxHQUNBLElBQUFtQyxRQUFhQSxFQUFBakYsU0FBQWdGLFFBQUFLLE9BQUFDLGFBQTBDeEMsRUFDdkQsYUFBQWdDLEVBQUFwQixRQUNBLENBQ0FELE1BQUEsQ0FDQWpELE9BQUF5RSxFQUNBakYsUUFBQSxHQUFBQSxFQUFBLENBQXdDdEIsQ0FBQXFHLEVBQUFRLElBQUEsR0FBVXZGLEVBQ2xEdEIsQ0FBQXFHLEVBQUFTLElBQUEsQ0FDQVIsTUFBQSxDQUNBdEcsQ0FBQXFHLEVBQUFVLE1BQUEsSUFBQVQsRUFBQSxLQUVBckYsR0FBQSxDQUNBakIsQ0FBQXFHLEVBQUFVLE1BQUEsSUFBQVQsRUFBQSxPQUtBVSxRQUFBeEcsT0FBQW9HLEdBQUEsR0FBQUQsRUFDQU0sTUFBQXpHLE9BQUFtRyxHQUNBMUIsTUFBQSxDQUNBLGlCQU1BakYsc0JBQUFvRSxHQUNBLElBQUFPLFFBQWFBLEdBQVVQLEVBTXZCLGFBTEFnQyxFQUFBcEIsUUFBQSxDQUNBRCxNQUFBLENBQ0E5RCxHQUFBMEQsS0FNQTNFLHdCQUFBMkUsR0FNQSxhQUxBeUIsRUFBQWxCLFFBQUEsQ0FDQUgsTUFBQSxDQUNBOUQsR0FBQTBELE1BR0EsRUFHQTNFLDBCQUFBb0UsR0FDQSxJQUFBbUMsUUFBYUEsRUFBQTVCLFVBQUFyRCxVQUEyQjhDLEVBU3hDLGFBUkFnQyxFQUFBdEIsT0FBQSxDQUNBeEQsVUFDUyxDQUNUeUQsTUFBQSxDQUNBakQsT0FBQXlFLEVBQ0F0RixHQUFBMEQsc0JDdkdBOUcsRUFBQUQsUUFBQXNKLFFBQUEscUJDQUFySixFQUFBRCxRQUFBc0osUUFBQSx1QkNBQXJKLEVBQUFELFFBQUFzSixRQUFBLDRCQ0lBLE1BQUFDLEVBQVd6SixFQUFRLEdBRW5CMEosR0FEVzFKLEVBQVEsR0FDQUEsRUFBUSxLQUMzQjJKLEVBQXFCM0osRUFBUSxJQUM3QjRKLEVBQWM1SixFQUFRLElBQ3RCNkosRUFBZ0I3SixFQUFRLEdBRXhCcUMsR0FENkJyQyxFQUFRLElBQ3ZCQSxFQUFRLElBQ3RCOEosRUFBQUQsSUFFQWxILE9BQUFvSCxXQUFBTixFQUFBTyxhQUFBQyxVQUFBLGdCQUFBQyxXQUNBdkgsT0FBQVcsWUFBQW1HLEVBQUFPLGFBQUFDLFVBQUEsZ0JBQUFDLFdBQ0FKLEVBQUFLLElBQUFSLEtBQ0FHLEVBQUFLLElBQUFULEVBQUFsQixRQUVBLE1BQUE0QixFQUFlcEssRUFBUSxJQUd2QjhKLEVBQUFPLElBQUEsSUFBQUMsTUFBQUMsRUFBQXZILEVBQUF3SCxLQUlBLEdBSEF4SCxFQUFBeUgsT0FBQSxpREFDQXpILEVBQUF5SCxPQUFBLDRCQUVBLGNBQUFGLEVBQUFHLE1BQUEsWUFBQUgsRUFBQUcsTUFBQSxVQUFBSCxFQUFBRyxNQUFBLGFBQUFILEVBQUFHLEtBQUEsQ0FDQSxNQUFBekgsUUFBQVosRUFBQXNJLFdBQUFKLEVBQUFLLFFBQUFDLGVBQ0EsSUFDQSxLQUFBNUgsRUFBQVcsT0FDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQSxvQkFHQSxLQUFBbEIsRUFBQVcsUUFDQVosRUFBQXlILE9BQUEsZ0JBQUF4SCxFQUFBZ0IsY0FFQXVHLEtBRVMsTUFBQXpILEdBQ1RDLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUFwQixVQUlBeUgsTUFJQVYsRUFBQUssSUFBQSxJQUFBQyxHQUlBekgsT0FBQUMsT0FBQWdILEVBQUFrQixhQUFBLGtCQUVBbkksT0FBQUMsT0FBQW1JLEdBQUEsaUJBQUFoSSxHQUNBbUQsUUFBQUMsSUFBQSxlQUFBcEQsS0FHQUosT0FBQUMsT0FBQW1JLEdBQUEscUJBQ0FwSSxPQUFBQyxPQUFBQyxJQUFBLGNBQUFGLE9BQUFXLFlBQUFzRyxFQUFBb0IsT0FDQXJJLE9BQUFDLE9BQUFDLElBQUEsYUFBQUYsT0FBQVcsWUFBQXNHLEVBQUFvQixTQUdBckksT0FBQUMsT0FBQW1JLEdBQUEsaUJBQUEvSCxFQUFBdUgsR0FDQXJFLFFBQUFDLElBQUEsd0JBUUEyRCxFQUFBbUIsT0FBQSx5QkFBQWxJLEVBQUFDLEdBQ0FELEdBQUFtRCxRQUFBQyxJQUFBcEQsR0FDQW1ELFFBQUFDLElBQUEsc0RDN0VBaEcsRUFBQUQsUUFBQXNKLFFBQUEsOEJDQUFySixFQUFBRCxRQUFBc0osUUFBQSxnQ0NBQXJKLEVBQUFELFFBQUFzSixRQUFBLHdCQ0FBckosRUFBQUQsUUFBQXNKLFFBQUEseUNDQUFySixFQUFBRCxRQUFBc0osUUFBQSxpQ0NBQSxNQUFBSyxFQUFnQjdKLEVBQVEsR0FDeEJrTCxFQUFhbEwsRUFBUSxJQUNyQjBJLEVBQWExSSxFQUFRLElBQ3JCbUwsRUFBZW5MLEVBQVEsSUFDdkJzRyxFQUFhdEcsRUFBUSxJQUNyQnlILEVBQWV6SCxFQUFRLElBQ3ZCb0wsRUFBYXBMLEVBQVEsSUFFckJxTCxFQUFBeEIsRUFBQXlCLFNBR0FELEVBQUFFLEtBQUEsWUFBQUwsRUFBQXhKLFFBRUEySixFQUFBRSxLQUFBLFNBQUFMLEVBQUFNLE9BRUFILEVBQUFFLEtBQUEsU0FBQUwsRUFBQU8sTUFFQUosRUFBQXBLLElBQUEsV0FBQWlLLEVBQUF6QyxNQUVBNEMsRUFBQXBLLElBQUEsYUFBQWlLLEVBQUFuQixZQUdBc0IsRUFBQUUsS0FBQSxhQUFBSCxFQUFBTSxPQUFBLE9BQUFSLEVBQUFTLFdBSUFOLEVBQUFFLEtBQUEsYUFBQTdDLEVBQUFoSCxRQUNBMkosRUFBQUUsS0FBQSxhQUFBakYsRUFBQTVFLFFBQ0EySixFQUFBTyxNQUFBLGFBQUF0RixFQUFBdUYsV0FDQVIsRUFBQXBLLElBQUEscUJBQUF5SCxFQUFBb0QsU0FDQVQsRUFBQXBLLElBQUEsYUFBQXFGLEVBQUF5RixjQUNBVixFQUFBVyxPQUFBLGFBQUExRixFQUFBMkYsZ0JBQ0FaLEVBQUFXLE9BQUEsVUFBQXZFLEVBQUF5RSxjQUNBYixFQUFBTyxNQUFBLFFBQUFsRCxFQUFBeUQsV0FDQWQsRUFBQVcsT0FBQSxRQUFBdEQsRUFBQTBELFlBR0FmLEVBQUFwSyxJQUFBLGNBQUFrSyxFQUFBa0IsWUFRQWxNLEVBQUFELFFBQUFtTCxtQkM3Q0EsTUFBQWlCLEVBQWtCdE0sRUFBUSxJQUMxQnVNLEVBQW1Cdk0sRUFBUSxJQUMzQndNLEVBQWV4TSxFQUFRLElBQ3ZCcUMsRUFBY3JDLEVBQVMsR0FpUHZCRyxFQUFBRCxRQS9PQSxNQVNBb0Msb0JBQUFpSSxFQUFBdkgsR0FDQSxJQUFBaUYsRUFBQSxDQUNBd0UsU0FBQWxDLEVBQUFtQyxLQUFBL0wsS0FDQWdNLFNBQUFwQyxFQUFBbUMsS0FBQXhILFVBTUFnRCxFQUFBLEdBQ0EsUUFBQUMsS0FBQUYsRUFDQSxRQUFBRyxJQUFBSCxFQUFBRSxHQUFBLENBQ0EsSUFBQUUsRUFBQUgsRUFBQUksT0FBQSxFQUNBSixFQUFBSyxLQUFBLEtBQUFGLEVBQUEsU0FBQUYsRUFBQSxRQUlBLEdBQUFELEVBQUFJLE9BQUEsRUFNQSxPQUxBdEYsRUFBQVksT0FBQSxJQUNBWixFQUFBd0YsS0FBQSxDQUNBQyxLQUFBLElBQ0F0RSxJQUFBK0QsS0FFQSxFQU1BLFNBRkFvRSxFQUFBRyxTQUFBeEUsRUFBQXdFLFVBR0F6SixFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUEsZ0JBSUEsSUFFQThELEVBQUEwRSxTQUFBSCxFQUFBSSxlQUFBakssT0FBQVcsWUFBQXVKLE9BQUFDLEtBQUE3RSxFQUFBMEUsU0FBQSxXQUFBekMsV0FHQSxNQUFBNkMsUUFBQVQsRUFBQTVLLE9BQUF1RyxHQUdBaEUsRUFBQTVCLEVBQUF5QixTQUFBaUosRUFBQXhKLEdBQUEsTUFDQXlKLEVBQUEzSyxFQUFBeUIsU0FBQWlKLEVBQUF4SixHQUFBLFFBQ0FsQixFQUFBMkIsU0FBQUMsRUFBQStJLEdBRUFoSyxFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUEsV0FHYSxNQUFBcEIsR0FDYkMsRUFBQVksT0FBQSxJQUNBWixFQUFBd0YsS0FBQSxDQUNBQyxLQUFBLElBQ0F0RSxJQUFBcEIsS0FZQVQsbUJBQUFpSSxFQUFBdkgsR0FDQSxJQUFBaUYsRUFBQSxDQUNBd0UsU0FBQWxDLEVBQUFtQyxLQUFBL0wsS0FDQWdNLFNBQUFwQyxFQUFBbUMsS0FBQXhILFVBTUFnRCxFQUFBLEdBQ0EsUUFBQUMsS0FBQUYsRUFDQSxRQUFBRyxJQUFBSCxFQUFBRSxHQUFBLENBQ0EsSUFBQUUsRUFBQUgsRUFBQUksT0FBQSxFQUNBSixFQUFBSyxLQUFBLEtBQUFGLEVBQUEsU0FBQUYsRUFBQSxRQUlBLEdBQUFELEVBQUFJLE9BQUEsRUFNQSxPQUxBdEYsRUFBQVksT0FBQSxJQUNBWixFQUFBd0YsS0FBQSxDQUNBQyxLQUFBLElBQ0F0RSxJQUFBK0QsS0FFQSxFQUdBRCxFQUFBMEUsU0FBQUgsRUFBQUksZUFBQWpLLE9BQUFXLFlBQUF1SixPQUFBQyxLQUFBN0UsRUFBQTBFLFNBQUEsV0FHQSxNQUFBTSxRQUFBWCxFQUFBSyxTQUFBMUUsRUFBQXdFLFNBQUF4RSxFQUFBMEUsVUFFQSxHQUFBTSxFQUNBLElBR0EsTUFBQWhKLEVBQUE1QixFQUFBeUIsU0FBQW1KLEVBQUExSixHQUFBLElBQ0F5SixFQUFBM0ssRUFBQXlCLFNBQUFtSixFQUFBMUosR0FBQSxRQUNBbEIsRUFBQTJCLFNBQUFDLEVBQUErSSxHQUVBaEssRUFBQVksT0FBQSxJQUNBWixFQUFBd0YsS0FBQSxDQUNBQyxLQUFBLElBQ0F0RSxJQUFBLFNBQ0ErSSxLQUFBLENBQ0FqSixlQUNBNEUsUUFBQW9FLEVBQUExSixNQUlhLE1BQUFSLEdBQ2JDLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQXBCLFNBSUFDLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUEsYUFVQTdCLGtCQUFBaUksRUFBQXZILEdBQ0EsSUFBQW1LLEVBQUFaLEVBQUE3SyxPQUFBLENBRUEwTCxTQUFBLEVBRUFDLFNBQUEsR0FFQUMsTUFBQSxFQUVBQyxNQUFBLEdBRUFDLE9BQUEsS0FHQWpELEVBQUFrRCxRQUFBTixFQUFBekYsS0FBQWdHLGNBRUExSyxFQUFBMkssT0FBQSxVQUFBcEQsRUFBQWtELFNBRUF6SyxFQUFBd0YsS0FBQSxDQUNBQyxLQUFBLElBQ0FkLElBQUF3RixFQUFBRCxLQUNBL0ksSUFBQW9HLEVBQUFrRCxVQVNBbkwsd0JBQUFpSSxFQUFBdkgsR0FDQUEsRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQXhCLE9BQUFvSCxhQVNBekgsa0JBQUFpSSxFQUFBdkgsR0FDQSxJQUFBaUYsRUFBQXNDLEVBQUFtQyxLQUdBeEUsRUFBQSxHQUNBLFFBQUFDLEtBQUFGLEVBQ0EsUUFBQUcsSUFBQUgsRUFBQUUsR0FBQSxDQUNBLElBQUFFLEVBQUFILEVBQUFJLE9BQUEsRUFDQUosRUFBQUssS0FBQSxLQUFBRixFQUFBLFNBQUFGLEVBQUEsUUFJQSxHQUFBRCxFQUFBSSxPQUFBLEVBTUEsT0FMQXRGLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQStELEtBRUEsRUFFQSxNQUFBMEYsUUFBQXRCLEVBQUF1QixnQkFBQTVGLEVBQUE2RixNQUVBLEdBQUFGLEVBQ0EsSUFDQTVLLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXlFLEtBQUFVLElBRWEsTUFBQTdLLEdBQ2JDLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUFwQixLQU9BVCxpQkFBQWlJLEVBQUF2SCxFQUFBd0gsR0FDQXhILEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXlFLEtBQUEsQ0FDQXZGLElBQUEscUJBQUE0QyxFQUFBd0QsS0FBQUMsK0JDOU9BLE1BRUE5QyxFQUZXbEwsRUFBUSxHQUNuQjhFLFVBQ0F5QixPQUFBLHFCQUVBMkUsRUFBQTFFLEtBQUEsQ0FBV0MsT0FBQSxJQW1GWHRHLEVBQUFELFFBakZBLE1BTUFvQyxvQkFBQTJDLEdBQ0EsSUFBQXdILFNBQWFBLEVBQUFFLFlBQXlDMUgsRUFFdEQsYUFBQWlHLEVBQUF4SixPQUFBLENBQ0ErSyxXQUNBRSxhQVlBckssb0JBQUFpQixHQU1BLGFBTEEySCxFQUFBMUQsUUFBQSxDQUNBSCxNQUFBLENBQ0E5RCxTQUdBLEVBT0FqQiw2QkFBQXdMLEdBQ0EsT0FBQWhMLE9BQUFnTCxTQUtBNUMsRUFBQTVELFFBQUEsQ0FDQTJHLFdBQUEsa0JBQ0E1RyxNQUFBLENBQ0F5RyxnQkFQQTVDLEVBQUE1RCxRQUFBLENBQ0EyRyxXQUFBLG9CQW1CQTNMLHNCQUFBbUssR0FDQSxhQUFBdkIsRUFBQWdELFFBQUEsQ0FDQTdHLE1BQUEsQ0FDQW9GLGNBVUFuSyxzQkFBQW1LLEVBQUFFLEdBQ0EsYUFBQXpCLEVBQUFnRCxRQUFBLENBQ0E3RyxNQUFBLENBQ0FvRixXQUFBRSwrQkNoRkF4TSxFQUFBRCxRQUFBc0osUUFBQSw0QkNDQXJKLEVBQUFELFFBQUEsQ0FFQTZFLE1BQUEsQ0FDQUksS0FBQSxlQUNBRixLQUFBLE9BQ0FDLFNBQUEsWUFDQUYsU0FBQSxNQUNBbUosS0FBQSx3QkNSQWhPLEVBQUFELFFBQUFzSixRQUFBLDhCQ0FBckosRUFBQUQsUUFBQXNKLFFBQUEsMkJDQUEsTUFBQTRFLEVBQWtCcE8sRUFBUSxHQUMxQnFPLEVBQWtCck8sRUFBUSxHQUMxQnNPLEVBQW9CdE8sRUFBUSxHQUU1QnVPLEdBRGV2TyxFQUFRLElBQ1JBLEVBQVEsSUFDdkJxQyxFQUFjckMsRUFBUSxHQThKdEJHLEVBQUFELFFBNUpBLE1BU0FvQyxvQkFBQWlJLEVBQUF2SCxHQUNBLElBQUFpRixFQUFBc0MsRUFBQW1DLEtBQ0F6SixRQUFBWixFQUFBc0ksV0FBQUosRUFBQUssUUFBQUMsZUFJQSxHQUhBNUMsRUFBQVksUUFBQTVGLEVBQUFpQixXQUVBcUssRUFBQUMsVUFBQXZHLEVBQUFqRixHQUNBLFNBQ0EsSUFFQSxNQUFBaUYsRUFBQWhCLFFBQUEsQ0FDQSxNQUFBd0gsUUFBQUwsRUFBQUssV0FBQXhHLEdBQ0F3RyxJQUNBekwsRUFBQVksT0FBQSxJQUNBWixFQUFBd0YsS0FBQSxDQUNBQyxLQUFBLElBQ0F5RSxLQUFBLENBQ0EzSixHQUFBa0wsRUFBQWxMLElBRUFZLElBQUEsc0JBSUFpSyxFQUFBTSxVQUFBekcsS0FFQWpGLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBeUUsS0FBQSxDQUNBM0osR0FBQTBFLEVBQUFoQixTQUVBOUMsSUFBQSxVQUlTLE1BQUFwQixHQU1ULE9BTEFDLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQXBCLEtBRUEsR0FVQVQscUJBQUFpSSxFQUFBdkgsR0FDQSxJQUFBaUYsRUFBQXNDLEVBQUFvRSxNQUNBMUwsUUFBQVosRUFBQXNJLFdBQUFKLEVBQUFLLFFBQUFDLGVBSUEsR0FIQTVDLEVBQUFZLFFBQUE1RixFQUFBaUIsV0FFQXFLLEVBQUFDLFVBQUF2RyxFQUFBakYsR0FDQSxTQUVBLE1BQUE0TCxRQUFBUixFQUFBdEMsUUFBQTdELEdBQ0EsSUFDQWpGLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBeUUsS0FBQSxDQUNBMEIsUUFDQUMsV0FBQSxJQUNBM00sRUFBQSxJQUNBNE0sVUFBQSxLQUNBQyxXQUFBLEtBR1MsTUFBQTdHLEdBTVQsT0FMQWxGLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQStELEtBRUEsR0FZQTVGLHVCQUFBaUksRUFBQXZILEdBQ0EsSUFBQWlGLEVBQUFzQyxFQUFBbUMsS0FDQXpKLFFBQUFaLEVBQUFzSSxXQUFBSixFQUFBSyxRQUFBQyxlQUlBLEdBSEE1QyxFQUFBWSxRQUFBNUYsRUFBQWlCLFdBRUFxSyxFQUFBQyxVQUFBdkcsRUFBQWpGLEdBQ0EsU0FDQSxVQUNBb0wsRUFBQVksYUFBQS9HLEdBQ0FqRixFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUEsV0FFUyxNQUFBcEIsR0FNVCxPQUxBQyxFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUFwQixLQUVBLEdBV0FULHdCQUFBaUksRUFBQXZILEdBQ0EsSUFBQWlGLEVBQUFzQyxFQUFBbUMsS0FHQSxVQURBNkIsRUFBQUMsVUFBQXZHLEVBQUFqRixHQUNBLFNBRUEsVUFDQXNMLEVBQUFXLHFCQUFBaEgsRUFBQWhCLGVBQ0FvSCxFQUFBYSxnQkFBQWpILEVBQUFoQixlQUNBbUgsRUFBQWhDLFdBQUFuRSxFQUFBaEIsU0FDQWpFLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQSxXQUVTLE1BQUFwQixHQUNUQyxFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXlFLEtBQUFuSyx3QkMzSkEsTUFDQTZCLEVBRFc1RSxFQUFRLEdBQ25COEUsVUFDQXFLLEVBQUF2SyxFQUFBMkIsT0FBQSwwQkFDQTNCLEVBQUErRCxHQUNBd0csRUFBQTNJLEtBQUEsQ0FBZUMsT0FBQSxJQTZCZnRHLEVBQUFELFFBM0JBLE1BQ0FvQyxvQkFBQVUsR0FDQSxJQUFBNkYsUUFBYUEsRUFBQTVCLFVBQUFyRCxVQUEyQlosRUFDeEMsT0FBQW1NLEVBQUF6TixPQUFBLENBQ0FtSCxVQUFBNUIsVUFBQXJELFdBSUF0QixxQkFBQVUsR0FDQSxJQUFBWSxPQUFhQSxFQUFBUSxVQUFlcEIsRUFDNUIsT0FBQW1NLEVBQUE3SCxRQUFBLENBQ0FELE1BQUEsQ0FDQWpELFNBQ0FSLFFBQUEsR0FBQUEsRUFBQSxLQUFBQSxLQUtBdEIscUJBQUFVLEdBQ0EsT0FBQW1NLEVBQUE3SCxRQUFBLENBQ0FELE1BQUEsQ0FDQStILG9DQzNCQSxNQUFBQyxFQUFvQnJQLEVBQVEsSUFHNUJ1TyxHQUZrQnZPLEVBQVEsR0FDTkEsRUFBUSxHQUNiQSxFQUFRLElBQ3ZCcUMsRUFBY3JDLEVBQVEsR0EwQnRCRyxFQUFBRCxRQXhCQSxNQUNBb0Msd0JBQUFpSSxFQUFBdkgsR0FDQSxJQUFBaUYsRUFBQXNDLEVBQUFvRSxNQUNBMUwsUUFBQVosRUFBQXNJLFdBQUFKLEVBQUFLLFFBQUFDLGVBR0EsR0FGQTVDLEVBQUFZLFFBQUE1RixFQUFBaUIsV0FDQXFLLEVBQUFDLFVBQUF2RyxHQUNBLFNBRUEsVUFDQW9ILEVBQUFoRCxXQUFBcEUsR0FJUyxNQUFBbEYsR0FNVCxPQUxBQyxFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUFwQixLQUVBLHNCQ3pCQSxNQUVBbUUsRUFGV2xILEVBQVEsR0FDbkI4RSxVQUNBeUIsT0FBQSx1QkFFQVcsRUFBQVYsS0FBQSxDQUFhQyxPQUFBLElBd0JidEcsRUFBQUQsUUF0QkEsTUFDQW9DLHdCQUFBVSxHQUNBLElBQUE2RixRQUFhQSxFQUFBNUIsVUFBQXFJLFdBQTRCdE0sRUFDekMsT0FBQWtFLEVBQUFJLFFBQUEsQ0FDQUQsTUFBQSxDQUVBK0gsT0FBQW5JLEVBQ0ExRCxHQUFBK0wsRUFDQWxHLEdBQUEsQ0FDQSxDQUNBaEYsT0FBQWtMLEdBRUEsQ0FDQWxMLE9BQUF5RSwwQkNuQkEsTUFBQXVGLEVBQWtCcE8sRUFBUSxHQUMxQnFPLEVBQWtCck8sRUFBUSxHQUMxQnNPLEVBQW9CdE8sRUFBUSxHQUM1QnVPLEVBQWV2TyxFQUFRLEdBQ3ZCcUMsRUFBY3JDLEVBQVEsR0E4S3RCRyxFQUFBRCxRQTVLQSxNQU9Bb0MsNEJBQUFpSSxFQUFBdkgsR0FDQSxJQUFBaUYsRUFBQXNDLEVBQUFtQyxLQUdBLFVBREE2QixFQUFBQyxVQUFBdkcsRUFBQWpGLEdBQ0EsU0FFQSxVQUNBc0wsRUFBQWlCLHFCQUFBdEgsRUFBQTFFLFVBQ0E4SyxFQUFBbUIsUUFBQXZILEdBQ0FqRixFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUEsV0FFUyxNQUFBcEIsR0FDVEMsRUFBQVksT0FBQSxJQUNBWixFQUFBd0YsS0FBQSxDQUNBQyxLQUFBLElBQ0F5RSxLQUFBbkssS0FXQVQsb0JBQUFpSSxFQUFBdkgsR0FDQSxJQUFBaUYsRUFBQXNDLEVBQUFtQyxLQUlBLElBREE2QixFQUFBQyxVQUFBdkcsRUFBQWpGLEdBQ0EsU0FFQSxJQUNBLE1BQUF5TSxRQUFBcEIsRUFBQW9CLFdBQUF4SCxHQUNBLEdBQUF3SCxFQUFBLENBRUEsTUFBQXhILEVBQUFqQixhQUNBLFFBQUE1RyxLQUFBNkgsRUFBQXlILFdBQUEsQ0FDQSxJQUFBQyxFQUFBMUgsRUFBQXlILFdBQUF0UCxHQUNBdVAsRUFBQTFJLFFBQUFnQixFQUFBaEIsUUFDQTBJLEVBQUF4SSxZQUFBc0ksRUFBQWxNLFNBQ0ErSyxFQUFBc0IsYUFBQUQsR0FHQTNNLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQSxVQUdTLE1BQUFwQixHQU1ULE9BTEFDLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQXBCLEtBRUEsR0FVQVQsdUJBQUFpSSxFQUFBdkgsR0FDQSxJQUFBaUYsRUFBQXNDLEVBQUFtQyxLQUlBLElBREE2QixFQUFBQyxVQUFBdkcsRUFBQWpGLEdBQ0EsU0FFQSxJQUVBLE1BQUE2TSxRQUFBeEIsRUFBQXdCLFVBQUE1SCxHQUNBLE1BQUFBLEVBQUFqQixhQUVBLFFBQUE1RyxLQUFBNkgsRUFBQXlILFdBR0EsR0FGQXpILEVBQUF5SCxXQUFBdFAsR0FBQStHLFlBQUFjLEVBQUFkLFlBQ0FjLEVBQUF5SCxXQUFBdFAsR0FBQTZHLFFBQUFnQixFQUFBaEIsUUFDQSxHQUFBZ0IsRUFBQXlILFdBQUF0UCxHQUFBMkgsV0FFQSxVQURBdUcsRUFBQXNCLGFBQUEzSCxFQUFBeUgsV0FBQXRQLElBT0EsT0FMQTRDLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQSxZQUVBLE9BSUEsVUFEQW1LLEVBQUF3QixZQUFBN0gsRUFBQXlILFdBQUF0UCxJQU9BLE9BTEE0QyxFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUEsWUFFQSxFQUtBMEwsSUFDQTdNLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxPQUdTLE1BQUExRixHQUNUQyxFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXRFLElBQUFwQixLQVVBVCwwQkFBQWlJLEVBQUF2SCxHQUNBLElBQUFpRixFQUFBc0MsRUFBQW9FLE1BQ0ExTCxRQUFBWixFQUFBc0ksV0FBQUosRUFBQUssUUFBQUMsZUFJQSxHQUhBNUMsRUFBQVksUUFBQTVGLEVBQUFpQixXQUVBcUssRUFBQUMsVUFBQXZHLEVBQUFqRixHQUNBLFNBRUEsTUFBQTRGLFFBQUF3RixFQUFBMkIsU0FBQTlILEdBQ0ErSCxRQUFBM0IsRUFBQTRCLFdBQUFoSSxFQUFBaEIsU0FFQSxJQUNBLEdBQUEyQixFQUFBLENBQ0EsSUFBQXNILEVBQUF0SCxFQUFBLEdBQUF1SCxXQUFBQyxFQUFBLEdBQUFULEVBQUEsR0FDQSxRQUFBdlAsS0FBQTRQLEVBQ0FJLEVBQUE3SCxLQUFBeUgsRUFBQTVQLEdBQUErUCxZQUNBUixRQUFBckIsRUFBQStCLGNBQUFMLEVBQUE1UCxHQUFBK1AsWUFDQUMsRUFBQWhRLEdBQUFzUCxXQUFBQyxFQUNBUyxFQUFBaFEsR0FBQStHLFlBQUE2SSxFQUFBNVAsR0FBQStQLFdBQUE1TSxHQUVBMk0sRUFBQXpFLEtBQUEyRSxFQUNBcE4sRUFBQVksT0FBQSxJQUNBWixFQUFBd0YsS0FBQSxDQUNBQyxLQUFBLElBQ0F5RSxLQUFBZ0QsS0FHUyxNQUFBbk4sR0FNVCxPQUxBQyxFQUFBWSxPQUFBLElBQ0FaLEVBQUF3RixLQUFBLENBQ0FDLEtBQUEsSUFDQXlFLEtBQUFuSyxLQUVBLHNCQzlLa0IvQyxFQUFRLEdBQ1JBLEVBQVEsR0FEMUIsTUFFQXNPLEVBQW9CdE8sRUFBUSxHQUM1QnVPLEVBQWV2TyxFQUFRLEdBQ1RBLEVBQVEsR0ErQnRCRyxFQUFBRCxRQTdCQSxNQUlBb0MsMEJBQUFpSSxFQUFBdkgsR0FDQSxJQUFBaUYsRUFBQXNDLEVBQUFtQyxLQUdBLFVBREE2QixFQUFBQyxVQUFBdkcsRUFBQWpGLEdBQ0EsU0FFQSxVQUNBc0wsRUFBQXBDLGFBQUFqRSxLQUVBakYsRUFBQVksT0FBQSxJQUNBWixFQUFBd0YsS0FBQSxDQUNBQyxLQUFBLElBQ0F0RSxJQUFBLFlBR1MsTUFBQXBCLEdBQ1RDLEVBQUFZLE9BQUEsSUFDQVosRUFBQXdGLEtBQUEsQ0FDQUMsS0FBQSxJQUNBdEUsSUFBQXBCLHdCQzdCQSxNQUFBdU4sRUFBZXRRLEVBQVEsSUFDdkIwSyxFQUFhMUssRUFBUSxHQUNyQnlKLEVBQVd6SixFQUFRLElBRW5CLFNBQUF1USxHQUNBLElBQ0E5RyxFQUFBK0csV0FBQUQsR0FDSyxNQUFBRSxHQUNMaEgsRUFBQWlILFVBQUFILElBTUFJLENBRkEsZUFLQSxJQUFBQyxFQUFBTixFQUFBTyxZQUFBLENBQ0FDLFlBQUEsU0FBQXZHLEVBQUF3RCxFQUFBZ0QsR0FDQUEsRUFBQSxLQVBBLGdCQVNBL0MsU0FBQSxTQUFBekQsRUFBQXdELEVBQUFnRCxHQUNBLElBQUFDLEVBQUF0RyxFQUFBc0csUUFBQWpELEVBQUFrRCxjQUVBRixFQUFBLEtBQUFoRCxFQUFBbUQsVUFBQSxJQUFBL04sS0FBQWdPLE1BQUFILE1BSUFyRixFQUFBMkUsRUFBQSxDQUF3Qk0sWUFFeEJ6USxFQUFBRCxRQUFBeUwsaUJDOUJBeEwsRUFBQUQsUUFBQXNKLFFBQUEiLCJmaWxlIjoiU3lzU2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuIiwiY29uc3Qgand0PXJlcXVpcmUoXCJqc29ud2VidG9rZW5cIilcclxuXHJcbi8qKlxyXG4gKiDorr7nva7moKHpqox0b2tlblxyXG4gKi9cclxuY2xhc3MgVG9rZW57XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0geyprZXl9IGtleSBcclxuICAgICAqIEBwYXJhbXMgeyp2YWx1ZX0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlZGlzU2V0KGtleSx2YWwpe1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57XHJcbiAgICAgICAgICAgIGdsb2JhbC5jbGllbnQuc2V0KE51bWJlcihrZXkpLHZhbCwoZXJyLHJlcyk9PntcclxuICAgICAgICAgICAgICAgIGlmKGVycikgcmVqZWN0KGVycilcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtrZXl9IGtleSBcclxuICAgICAqIEByZXR1cm5zIHsqdmFsdWV9IHZhbHVlIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVkaXNHZXQoa2V5KXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xyXG4gICAgICAgICAgICBnbG9iYWwuY2xpZW50LmdldChOdW1iZXIoa2V5KSwoZXJyLHJlcyk9PntcclxuICAgICAgICAgICAgICAgIGlmKGVycikgcmVqZWN0KGVycilcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHsq55So5oi3aWR9IGlkIFxyXG4gICAgICogQHBhcmFtIHsqdG9rZW59IHRva2VuIFxyXG4gICAgICogQHJldHVybnMgeyp0b2tlbui/h+acnyzph43mlrDnmbvlvZV9ICBzdGF0dXMgNDA0XHJcbiAgICAgKiBAcmV0dXJucyB7KmFjY2Vzc190b2tlbui/h+acn++8jOiuvue9ruaWsOeahHRva2VufSBzdGF0dXMgMjAyXHJcbiAgICAgKiBAcmV0dXJucyB7KnRva2VuIOacqui/h+acn30gc3RhdHVzIDIwMFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgY2hlY2tUb2tlbih0b2tlbil7XHJcbiAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICBsZXQgbm93RGF0ZT1OdW1iZXIobmV3IERhdGUoKSk7XHJcbiAgICAgICAgICAgIC8v6I635Y+W5Yik5patYWNjZXNzX3Rva2VuICDliKTmlq3mmK/lkKbov4fmnJ9cclxuICAgICAgICAgICAgbGV0IGp3dF9hY2Nlc3NfdG9rZW49YXdhaXQgand0LnZlcmlmeSh0b2tlbixnbG9iYWwucHJpdmF0ZV9rZXkpO1xyXG4gICAgICAgICAgICBsZXQgaWQ9and0X2FjY2Vzc190b2tlbi5zdWI7XHJcbiAgICAgICAgICAgIGlmKGp3dF9hY2Nlc3NfdG9rZW4uZXhwPG5vd0RhdGUpe1xyXG4gICAgICAgICAgICAgICAgLy/ojrflj5bop6PmnpByZWZyZXNoX3Rva2VuIOWIpOaWreacieaViOaXtumXtFxyXG4gICAgICAgICAgICAgICAgbGV0IG9sZF9yZWZyZXNoX3Rva2VuPWF3YWl0IFRva2VuLnJlZGlzR2V0KHRva2VuKTtcclxuICAgICAgICAgICAgICAgIGxldCBqd3Rfb2xkX3JlZnJlc2hfdG9rZW49YXdhaXQgand0LnZlcmlmeShvbGRfcmVmcmVzaF90b2tlbixnbG9iYWwucHJpdmF0ZV9rZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYoand0X29sZF9yZWZyZXNoX3Rva2VuLmV4cDxub3dEYXRlKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6NDA0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld19mcmVzaF90b2tlbj1hd2FpdCBUb2tlbi5zZXRUb2tlbihpZCwxKjI0KjYwKjYwKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3X2FjY2Vzc190b2tlbj1hd2FpdCBUb2tlbi5zZXRUb2tlbihpZCw2MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgVG9rZW4ucmVkaXNTZXQobmV3X2ZyZXNoX3Rva2VuLG5ld19mcmVzaF90b2tlbik7IC8v6K6+572u5paw55qEcmVmcmVzaF90b2tlbiDmlL7lhaVyZWRpc1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoyMDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc190b2tlbiA6IG5ld19hY2Nlc3NfdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVpZCA6IGlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgOiBcIuabtOaWsHRva2VuXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6MjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHVpZCA6IGlkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzpcInRva2Vu5pyJ5pWI5LitXCJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWNhdGNoKGVycil7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6NDA0LFxyXG4gICAgICAgICAgICAgICAgbXNnOmVyclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICBcclxuXHJcbiAgICB9XHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIOiuvue9rnRva2VuXHJcbiAgICAgKiBAcGFyYW0gdXNlcmlkIOeUqOaIt2lkXHJcbiAgICAgKiBAcGFyYW0gb3ZlcnRpbWUgIOacieaViOaXtumXtFxyXG4gICAgICogQHBhcmFtIG5hbWUg55So5oi35ZCNXHJcbiAgICAgKiBAcmV0dXJucyB0b2tlbiBcclxuICAgICAqICovXHJcbiAgICBzdGF0aWMgc2V0VG9rZW4odXNlcmlkLCBvdmVydGltZSkge1xyXG4gICAgICAgIHZhciBwbGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgICAgIGlzczogJzE2NzA2NDQzMzlAcXEuY29tJywgICAvLyBKV1TnmoTnrb7lj5HogIVcclxuICAgICAgICAgICAgICAgIHN1YjogdXNlcmlkLCAgICAvLyBKV1TmiYDpnaLlkJHnmoTnlKjmiLdcclxuICAgICAgICAgICAgICAgIGV4cDpuZXcgRGF0ZSgpLmdldFRpbWUoKStvdmVydGltZSoxMDAwLFxyXG4gICAgICAgICAgICAgICAgYXVkOiBcIjE2NzA2NDQzMzlAcXEuY29tXCIsICAvL+aOpeaUtkpXVOeahOS4gOaWuVxyXG4gICAgICAgICAgICAgICAgaWF0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgIC8vIOivpUpXVOetvuWPkeeahOaXtumXtFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIHZhciB0b2tlbiA9IGp3dC5zaWduKHBsYXlsb2FkLGdsb2JhbC5wcml2YXRlX2tleSk7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHM9VG9rZW4iLCIvKuWunuS+i+WMlnNlcXVlbGl6ZSovXHJcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpXHJcbmNvbnN0IG1vZGVscyA9IHJlcXVpcmUoJy4uL2NvbmZpZy9kYXRhYnNlLmNvbmZpZycpXHJcblxyXG4vLyDlrp7kvovljJbvvIzlubbmjIflrprphY3nva5cclxuLy/lrp7kvovljJZzZXF1ZWxpemVcclxudmFyIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUobW9kZWxzLm15c3FsLmRhdGFiYXNlLCBtb2RlbHMubXlzcWwudXNlciwgbW9kZWxzLm15c3FsLnBhc3N3b3JkLCB7XHJcbiAgICBob3N0OiBtb2RlbHMubXlzcWwuaG9zdCxcclxuICAgIGRpYWxlY3Q6ICdteXNxbCcsXHJcbiAgICBvcGVyYXRvcnNBbGlhc2VzOiBmYWxzZSxcclxuICAgIGRpYWxlY3RPcHRpb25zOiB7XHJcbiAgICAgICAgY2hhcnNldDogXCJ1dGY4bWI0XCIsXHJcbiAgICAgICAgLy8gY29sbGF0ZTogXCJ1dGY4bWI0X3VuaWNvZGVfY2lcIixcclxuICAgICAgICBzdXBwb3J0QmlnTnVtYmVyczogdHJ1ZSxcclxuICAgICAgICBiaWdOdW1iZXJTdHJpbmdzOiB0cnVlXHJcbiAgICB9LFxyXG5cclxuICAgIHBvb2w6IHtcclxuICAgICAgICBtYXg6IDUsXHJcbiAgICAgICAgbWluOiAwLFxyXG4gICAgICAgIGFjcXVpcmU6IDMwMDAwLFxyXG4gICAgICAgIGlkbGU6IDEwMDAwXHJcbiAgICB9LFxyXG4gICAgdGltZXpvbmU6ICcrMDg6MDAnIC8v5Lic5YWr5pe25Yy6XHJcbn0pXHJcblxyXG4vLyDmtYvor5Xov57mjqVcclxuc2VxdWVsaXplLmF1dGhlbnRpY2F0ZSgpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3Rpb24gaGFzIGJlZW4gZXN0YWJsaXNoZWQgc3VjY2Vzc2Z1bGx5LicpXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlOicsIGVycilcclxuICAgIH0pXHJcblxyXG5tb2R1bGUuZXhwb3J0cz17XHJcbiAgICBzZXF1ZWxpemVcclxufSIsImNvbnN0IGRiID0gcmVxdWlyZSgnLi4vY29uZmlnL3NlcXVlbGl6ZS5jb25maWcnKVxyXG5jb25zdCBTZXF1ZWxpemUgPSBkYi5zZXF1ZWxpemU7XHJcbmNvbnN0IFF1ZXMgPSBTZXF1ZWxpemUuaW1wb3J0KCcuLi9zY2hlbWEvcXVlc3Rpb24uanMnKVxyXG5cclxuUXVlcy5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pO1xyXG5cclxuY2xhc3MgUXVlc01vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICrliJvlu7rpopjnm65cclxuICAgICAqIEBwYXJhbSB0aXRsZVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVRdWVzKGV4YW0pIHtcclxuICAgICAgICBsZXQgeyBwcm9ibGVtLCBhbmFseXNpcywgbm90ZSwgc29ydCwgc2NvcmUsIHF1ZXN0aW9uVHlwZSwgZXhhbV9pZCwgYW5zd2VyIH0gPSBleGFtO1xyXG4gICAgICAgIGxldCBzcWwgPSBhd2FpdCBRdWVzLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIHByb2JsZW0sIGFuYWx5c2lzLCBub3RlLCBzY29yZSwgc29ydCwgcXVlc3Rpb25UeXBlLCBleGFtX2lkLCBhbnN3ZXJcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBzcWw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGFsdGVyUXVlcyhleGFtKSB7XHJcbiAgICAgICAgbGV0IHsgcHJvYmxlbSwgYW5hbHlzaXMsIG5vdGUsIHNvcnQsIHNjb3JlLCBxdWVzdGlvblR5cGUsIGV4YW1faWQsIGFuc3dlciwgcXVlc3Rpb25faWQgfSA9IGV4YW07XHJcbiAgICAgICAgYXdhaXQgUXVlcy51cGRhdGUoe1xyXG4gICAgICAgICAgICBwcm9ibGVtLCBhbmFseXNpcywgbm90ZSwgc2NvcmUsIHNvcnQsIHF1ZXN0aW9uVHlwZSwgZXhhbV9pZCwgYW5zd2VyXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogcXVlc3Rpb25faWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgc2VsZWN0UXVlcyhleGFtX2lkKSB7XHJcbiAgICAgICAgbGV0IHNxbCA9IGF3YWl0IFF1ZXMuZmluZEFsbCh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBleGFtX2lkOiBleGFtX2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9yZGVyOiBbXHJcbiAgICAgICAgICAgICAgICBbXCJzb3J0XCIsICdBU0MnXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gc3FsXHJcbiAgICB9XHJcbiAgICBzdGF0aWMgYXN5bmMgZGVsUXVlcyhleGFtKSB7XHJcbiAgICAgICAgbGV0IHsgaWQgfSA9IGV4YW07XHJcbiAgICAgICAgYXdhaXQgUXVlcy5kZXN0cm95KHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGlkOiBpZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICAgIHN0YXRpYyBhc3luYyBkZWxRdWVzQnlFeGFtaWQoZXhhbV9pZCkge1xyXG4gICAgICAgIGF3YWl0IFF1ZXMuZGVzdHJveSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBleGFtX2lkOiBleGFtX2lkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUXVlc01vZGVsXHJcbiIsImNvbnN0IGRiID0gcmVxdWlyZSgnLi4vY29uZmlnL3NlcXVlbGl6ZS5jb25maWcnKVxyXG5jb25zdCBTZXF1ZWxpemUgPSBkYi5zZXF1ZWxpemU7XHJcbmNvbnN0IE9wdGlvbiA9IFNlcXVlbGl6ZS5pbXBvcnQoJy4uL3NjaGVtYS9vcHRpb24uanMnKVxyXG5cclxuT3B0aW9uLnN5bmMoe2ZvcmNlOiBmYWxzZX0pO1xyXG5cclxuY2xhc3MgT3B0aW9uTW9kZWwge1xyXG4gICAgLyoqXHJcbiAgICAgKuWIm+W7uumAiemhuVxyXG4gICAgICogQHBhcmFtIHRpdGxlXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZU9wdGlvbihleGFtKSB7XHJcbiAgICAgICAgbGV0IHsgcXVlc3Rpb25faWQsZXhhbV9pZCwgdGV4dCwgYW5zd2VyLCBzb3J0LCBpbWcsIGludHJvZHVjZSB9ID0gZXhhbTtcclxuICAgICAgICBsZXQgc3FsID0gYXdhaXQgT3B0aW9uLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIHF1ZXN0aW9uX2lkLGV4YW1faWQsIHRleHQsIGFuc3dlciwgc29ydCwgaW1nLCBpbnRyb2R1Y2U6IGludHJvZHVjZS5lZGl0b3JUeHQsIGlzVXJsOiBOdW1iZXIoaW50cm9kdWNlLmlzVXJsKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHNxbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS/ruaUuemAiemhuVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgYWx0ZXJPcHRpb24oZXhhbSkge1xyXG4gICAgICAgIGxldCB7IG9wdGlvbl9pZCwgcXVlc3Rpb25faWQsZXhhbV9pZCwgdGV4dCwgYW5zd2VyLCBzb3J0LCBpbWcsIGludHJvZHVjZSB9ID0gZXhhbTtcclxuICAgICAgICBhd2FpdCBPcHRpb24udXBkYXRlKHtcclxuICAgICAgICAgICAgdGV4dCwgYW5zd2VyOlN0cmluZyhhbnN3ZXIpLCBzb3J0LCBpbWcsIGludHJvZHVjZTogaW50cm9kdWNlLmVkaXRvclR4dCwgaXNVcmw6IE51bWJlcihpbnRyb2R1Y2UuaXNVcmwpXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbl9pZDpxdWVzdGlvbl9pZCxcclxuICAgICAgICAgICAgICAgICAgICBpZDogb3B0aW9uX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4YW1faWQ6ZXhhbV9pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W6YCJ6aG5XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBmaW5kQWxsT3B0aW9uKGV4YW0pIHtcclxuICAgICAgICBsZXQgeyBpZCB9ID0gZXhhbTtcclxuICAgICAgICBsZXQgc3FsID0gYXdhaXQgT3B0aW9uLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgcXVlc3Rpb25faWQ6IGlkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBzcWw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4ge29wdGlvbl9pZH1cclxuICAgICAqIOWIoOmZpOmAiemhuVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlT3B0aW9uKHJlcykge1xyXG4gICAgICAgIGxldCB7IG9wdGlvbl9pZCB9ID0gcmVzO1xyXG4gICAgICAgIGF3YWl0IE9wdGlvbi5kZXN0cm95KHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGlkOiBvcHRpb25faWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOagueaNrnF1ZXN0aW9uX2lkIOWIoOmZpOaJgOaciemAiemhuVxyXG4gICAgICogQHBhcmFtIHsqfSBxdWVzdGlvbl9pZCBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGRlbGV0ZU9wdGlvbkJ5UXVlc2lkKHF1ZXN0aW9uX2lkKSB7XHJcbiAgICAgICAgYXdhaXQgT3B0aW9uLmRlc3Ryb3koe1xyXG4gICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgcXVlc3Rpb25faWQ6IHF1ZXN0aW9uX2lkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja5leGFtX2lkIOWIoOmZpOaJgOaciemAiemhuVxyXG4gICAgICogQHBhcmFtIHsqfSDmoLnmja5leGFtX2lkIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlT3B0aW9uQnlFeGFtaWQoZXhhbV9pZCkge1xyXG4gICAgICAgIGF3YWl0IE9wdGlvbi5kZXN0cm95KHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGV4YW1faWQ6IGV4YW1faWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gT3B0aW9uTW9kZWxcclxuICAgICIsImNsYXNzIENvbW1vbntcclxuICAgIC8qKlxyXG4gICAgICog5qOA5rWL5Y+C5pWw5piv5ZCm5a2Y5Zyo5Li656m6XHJcbiAgICAgKiBAcGFyYW0geyp9IHJlcSBcclxuICAgICAqIEBwYXJhbSB7Kn0gcmVzIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgY2hlY2tEYXRhKHBhcmFtcyxyZXMpe1xyXG4gICAgICAgIGxldCBlcnJvcnMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpdGVtIGluIHBhcmFtcykge1xyXG4gICAgICAgICAgICBpZiAocGFyYW1zW2l0ZW1dID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGVycm9ycy5sZW5ndGggKyAxO1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goXCLplJnor69cIiArIGluZGV4ICsgXCI6IOWPguaVsDogXCIgKyBpdGVtICsgXCLkuI3og73kuLrnqbpcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA0MTI7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDQxMixcclxuICAgICAgICAgICAgICAgIG1zZzogZXJyb3JzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IENvbW1vbiIsImNvbnN0IGRiID0gcmVxdWlyZSgnLi4vY29uZmlnL3NlcXVlbGl6ZS5jb25maWcnKVxyXG5jb25zdCBTZXF1ZWxpemUgPSBkYi5zZXF1ZWxpemU7XHJcbmNvbnN0IEV4YW0gPSBTZXF1ZWxpemUuaW1wb3J0KCcuLi9zY2hlbWEvZXhhbS5qcycpXHJcbmNvbnN0IE9wID0gU2VxdWVsaXplLk9wO1xyXG5cclxuRXhhbS5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pO1xyXG5cclxuY2xhc3MgRXhhbU1vZGVsIHtcclxuICAgIC8qKlxyXG4gICAgICrliJvlu7rpl67ljbdcclxuICAgICAqIEBwYXJhbSB0aXRsZVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVFeGFtKGV4YW0pIHtcclxuICAgICAgICBsZXQgeyB0aXRsZSwgdXNlcl9pZCwgZXhwbGFpbiwgdGVzdHRpbWUsIHN0YXR1cywgc29ydCwgZGVzaWduYXRlZCB9ID0gZXhhbTtcclxuICAgICAgICBsZXQgc3FsID0gYXdhaXQgRXhhbS5jcmVhdGUoe1xyXG4gICAgICAgICAgICB0aXRsZSxcclxuICAgICAgICAgICAgdXNlcl9pZCxcclxuICAgICAgICAgICAgZXhwbGFpbixcclxuICAgICAgICAgICAgdGVzdHRpbWUsXHJcbiAgICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgICAgc29ydCxcclxuICAgICAgICAgICAgZGVzaWduYXRlZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHNxbFxyXG4gICAgfVxyXG4gICAgc3RhdGljIGFzeW5jIGFsdGVyRXhhbShleGFtKSB7XHJcbiAgICAgICAgbGV0IHsgdGl0bGUsIHVzZXJfaWQsIGV4cGxhaW4sIHRlc3R0aW1lLCBzdGF0dXMsIHNvcnQsIGRlc2lnbmF0ZWQsIGV4YW1faWQgfSA9IGV4YW07XHJcbiAgICAgICAgbGV0IGV4YW1DcmVhdGUgPSBhd2FpdCBFeGFtLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHRpdGxlLFxyXG4gICAgICAgICAgICB1c2VyX2lkLFxyXG4gICAgICAgICAgICBleHBsYWluLFxyXG4gICAgICAgICAgICB0ZXN0dGltZSxcclxuICAgICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgICAgICBzb3J0LFxyXG4gICAgICAgICAgICBkZXNpZ25hdGVkLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGV4YW1faWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB1c2VyX2lkXHJcbiAgICAgKiBAcGFyYW0gc3RhdHVzXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqIOetm+mAiemXruWNt+WIl+ihqFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0bGlzdChleGFtKSB7XHJcbiAgICAgICAgbGV0IHsgdXNlcl9pZCwgc3RhdHVzLCB0aXRsZSwgcGFnZSwgcGFnZWNvdW50IH0gPSBleGFtO1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBFeGFtLmZpbmRBbGwoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcmlkOiB1c2VyX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzPT0tMT97W09wLmx0XTozfTpzdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgW09wLm9yXTp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbT3AubGlrZV06IFwiJVwiICsgdGl0bGUgKyBcIiVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW09wLmxpa2VdOiBcIiVcIiArIHRpdGxlICsgXCIlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IChOdW1iZXIocGFnZWNvdW50KSAtIDEpICogcGFnZSxcclxuICAgICAgICAgICAgICAgIGxpbWl0OiBOdW1iZXIocGFnZSksXHJcbiAgICAgICAgICAgICAgICBvcmRlcjogW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnaWQnLCAnREVTQyddXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgZmluZEV4YW0oZXhhbSkge1xyXG4gICAgICAgIGxldCB7IGV4YW1faWQgfSA9IGV4YW07XHJcbiAgICAgICAgbGV0IHNxbCA9IGF3YWl0IEV4YW0uZmluZEFsbCh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogZXhhbV9pZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gc3FsXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGRlbGV0ZUV4YW0oZXhhbV9pZCkge1xyXG4gICAgICAgIGF3YWl0IEV4YW0uZGVzdHJveSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogZXhhbV9pZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBjaGFuZ2VTdGF0dXMoZXhhbSkge1xyXG4gICAgICAgIGxldCB7IHVzZXJfaWQsIGV4YW1faWQsIHN0YXR1cyB9ID0gZXhhbTtcclxuICAgICAgICBsZXQgc3FsID0gYXdhaXQgRXhhbS51cGRhdGUoe1xyXG4gICAgICAgICAgICBzdGF0dXNcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJpZDogdXNlcl9pZCxcclxuICAgICAgICAgICAgICAgICAgICBpZDogZXhhbV9pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBzcWw7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRXhhbU1vZGVsXHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTsiLCIvKipcclxuICogbm9kZSDlkI7nq6/mnI3liqHlmahcclxuICogbm9kZeWQr+WKqOaWh+S7tlxyXG4gKi9cclxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG5jb25zdCBwYXRoPXJlcXVpcmUoXCJwYXRoXCIpXHJcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xyXG5jb25zdCBjb29raWVQYXJhc2UgPSByZXF1aXJlKCdjb29raWUtcGFyc2VyJyk7XHJcbmNvbnN0IHJlZGlzID0gcmVxdWlyZSgncmVkaXMnKTtcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgd2VicGFja0Rldk1pZGRsZXdhcmUgPSByZXF1aXJlKCd3ZWJwYWNrLWRldi1taWRkbGV3YXJlJyk7XHJcbmNvbnN0IFRva2VuID0gcmVxdWlyZSgnLi9jb25maWcvdG9rZW4uY29uZmlnLmpzJylcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuZ2xvYmFsLnB1YmxpY19rZXkgPSBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lK1wiL2tleS9wdWIua2V5XCIpLnRvU3RyaW5nKCk7XHJcbmdsb2JhbC5wcml2YXRlX2tleSA9IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUrXCIva2V5L3ByaS5rZXlcIikudG9TdHJpbmcoKTtcclxuYXBwLnVzZShjb29raWVQYXJhc2UoKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5cclxuY29uc3Qgcm91dGVzID0gcmVxdWlyZSgnLi9yb3V0ZXMnKTtcclxuXHJcbi8v5a+55o6l5Y+j6L+H5ruk5qOA6aqMdG9rZW5cclxuYXBwLmFsbChcIipcIiwgYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtRXhwb3NlLUhlYWRlcnNcIiwgXCJBdXRob3JpemF0aW9uXCIpO1xyXG4gICAgcmVzLmhlYWRlcignQ2FjaGUtQ29udHJvbCcsICduby1zdG9yZScpO1xyXG5cclxuICAgIGlmIChyZXEucGF0aCAhPSBcIi9wdWJsaWNLZXlcIiAmJiByZXEucGF0aCAhPSBcIi9jYXB0Y2hhXCIgJiYgcmVxLnBhdGggIT0gJy9sb2dpbicgJiYgcmVxLnBhdGggIT0gXCIvcmVnaXN0ZXJcIikge1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgVG9rZW4uY2hlY2tUb2tlbihyZXEuaGVhZGVycy5hdXRob3JpemF0aW9uKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodG9rZW4uc3RhdHVzID09IDQwNCkge1xyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgICAgICAgICAgICAgICBtc2c6IFwidG9rZW7lt7Lov4fmnJ/vvIzor7fph43mlrDnmbvlvZVcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5zdGF0dXMgPT0gMjAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgdG9rZW4uYWNjZXNzX3Rva2VuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6IGVyclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV4dCgpXHJcbiAgICB9XHJcbn0pXHJcblxyXG5hcHAudXNlKCcvJywgcm91dGVzKTsgIC8vIOWQjuerr2Fwaei3r+eUsVxyXG5cclxuLy/ov57mjqVyZWRpc+aVsOaNruW6k1xyXG5cclxuZ2xvYmFsLmNsaWVudCA9IHJlZGlzLmNyZWF0ZUNsaWVudCg2Mzc5LCAnMTI3LjAuMC4xJyk7XHJcblxyXG5nbG9iYWwuY2xpZW50Lm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgIGNvbnNvbGUubG9nKCdyZWRpcyBFcnJvciAnICsgZXJyKTtcclxufSk7XHJcblxyXG5nbG9iYWwuY2xpZW50Lm9uKFwiY29ubmVjdFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBnbG9iYWwuY2xpZW50LnNldChcInByaXZhdGVfa2V5XCIsIGdsb2JhbC5wcml2YXRlX2tleSwgcmVkaXMucHJpbnQpO1xyXG4gICAgZ2xvYmFsLmNsaWVudC5zZXQoXCJwdWJsaWNfa2V5XCIsIGdsb2JhbC5wcml2YXRlX2tleSwgcmVkaXMucHJpbnQpO1xyXG59KTtcclxuXHJcbmdsb2JhbC5jbGllbnQub24oJ3JlYWR5JywgZnVuY3Rpb24gKHJlcywgcmVxKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInJlZGlzIHN1Y2Nlc3MuLi4uLlwiKVxyXG59KTtcclxuXHJcbi8vIOi/nuaOpeaVsOaNruW6k1xyXG4vLyBnbG9iYWwuY29ubiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24obW9kZWxzLm15c3FsKTtcclxuLy8gZ2xvYmFsLmNvbm4uY29ubmVjdCgpO1xyXG5cclxuLy8g55uR5ZCs56uv5Y+jXHJcbmFwcC5saXN0ZW4oMzAwMCwgJ2xvY2FsaG9zdCcsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xyXG4gICAgaWYgKGVycikgY29uc29sZS5sb2coZXJyKVxyXG4gICAgY29uc29sZS5sb2coJ3N1Y2Nlc3MgbGlzdGVuIGF0IHBvcnQ6MzAwMC4uLi4uLicpXHJcbn0pXHJcblxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb29raWUtcGFyc2VyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZGlzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIndlYnBhY2stZGV2LW1pZGRsZXdhcmVcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpOyIsImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IFVzZXIgPSByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL3VzZXInKVxyXG5jb25zdCBFeGFtID0gcmVxdWlyZSgnLi9jb250cm9sbGVycy9leGFtJylcclxuY29uc3QgQW5zd2VyID0gcmVxdWlyZSgnLi9jb250cm9sbGVycy9hbnN3ZXInKVxyXG5jb25zdCBRdWVzID0gcmVxdWlyZSgnLi9jb250cm9sbGVycy9xdWVzdGlvbicpXHJcbmNvbnN0IE9wdGlvbiA9IHJlcXVpcmUoJy4vY29udHJvbGxlcnMvb3B0aW9uJylcclxuY29uc3QgdXBsb2FkPXJlcXVpcmUoJy4vY29udHJvbGxlcnMvdXBsb2FkJylcclxuLy8gY29uc3QgVXBsb2FkVG9rZW4gPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9VcGxvYWRUb2tlbicpXHJcbmNvbnN0IFJvdXRlcnMgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuLy8gIOeUqOaIt+azqOWGjFxyXG5Sb3V0ZXJzLnBvc3QoJy9yZWdpc3RlcicsIFVzZXIuY3JlYXRlKTtcclxuLy8gIOeUqOaIt+eZu+W9lVxyXG5Sb3V0ZXJzLnBvc3QoJy9sb2dpbicsIFVzZXIubG9naW4pO1xyXG4vLyAg6I635Y+W55So5oi35ZCN5Y2VXHJcblJvdXRlcnMucG9zdCgnL3VzZXJzJywgVXNlci5saXN0KTtcclxuLy8gIOiOt+WPluWbvuW9oueggVxyXG5Sb3V0ZXJzLmdldCgnL2NhcHRjaGEnLCBVc2VyLmNvZGUpO1xyXG4vLyAg6I635Y+W5YWs6ZKlXHJcblJvdXRlcnMuZ2V0KCcvcHVibGljS2V5JywgVXNlci5wdWJsaWNfa2V5KTtcclxuXHJcbi8vICDmj5DkuqTlm77niYdcclxuUm91dGVycy5wb3N0KFwiL1VwbG9hZHBpY1wiLHVwbG9hZC5zaW5nbGUoXCJpbWdcIiksVXNlci51cGxvYWRJbWcpO1xyXG5cclxuXHJcbi8vIOmXruWNt+aOpeWPo1xyXG5Sb3V0ZXJzLnBvc3QoXCIvRXhhbVRpdGxlXCIsRXhhbS5jcmVhdGUpXHJcblJvdXRlcnMucG9zdChcIi9xdWVzdGlvbnNcIixRdWVzLmNyZWF0ZSlcclxuUm91dGVycy5wYXRjaChcIi9xdWVzdGlvbnNcIixRdWVzLnBhdGNoUXVlcykgICAgICBcclxuUm91dGVycy5nZXQoXCIvcXVlc3Rpb25uYWlyZUxpc3RcIixFeGFtLmdldGxpc3QpXHJcblJvdXRlcnMuZ2V0KFwiL3F1ZXN0aW9uc1wiLCAgUXVlcy5nZXRRdWVzdGlvbnMpXHJcblJvdXRlcnMuZGVsZXRlKFwiL3F1ZXN0aW9uc1wiLFF1ZXMuZGVsZXRlcXVlc3Rpb24pO1xyXG5Sb3V0ZXJzLmRlbGV0ZShcIi9vcHRpb25cIixPcHRpb24uZGVsZXRlT3B0aW9uKVxyXG5Sb3V0ZXJzLnBhdGNoKFwiL0V4YW1cIixFeGFtLnBhdGNoRXhhbSlcclxuUm91dGVycy5kZWxldGUoXCIvRXhhbVwiLEV4YW0uZGVsZXRlRXhhbSlcclxuXHJcbi8v562U5Y235o6l5Y+jXHJcblJvdXRlcnMuZ2V0KFwiL2Fuc3dlckxpc3RcIixBbnN3ZXIuYW5zd2VyTGlzdClcclxuXHJcblxyXG4vKipcclxuICog5LiK5LygdG9rZW5cclxuICovXHJcbi8vIFJvdXRlcnMuZ2V0KCcvdXBsb2FkL3Rva2VuJywgVXBsb2FkVG9rZW4udG9rZW4pXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFJvdXRlcnNcclxuIiwiY29uc3QgVXNlck1vZGVsID0gcmVxdWlyZSgnLi4vbW9kZWxzL3VzZXJNb2RlbCcpO1xyXG5jb25zdCBzdmdDYXB0Y2hhID0gcmVxdWlyZSgnc3ZnLWNhcHRjaGEnKTtcclxuY29uc3QgY3J5cHRvID0gcmVxdWlyZShcImNyeXB0b1wiKVxyXG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoIFwiLi4vY29uZmlnL3Rva2VuLmNvbmZpZ1wiKVxyXG5cclxuY2xhc3MgVXNlciB7XHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uueUqOaIt1xyXG4gICAgICogQHBhcmFtICAgTmlja25hbWUgICAgIOeUqOaIt+WQjeWtl1xyXG4gICAgICogQHBhcmFtICAgcGFzc3dvcmQgICAgIOeUqOaIt+WvhueggVxyXG4gICAgICogQHBhcmFtICAgZW1haWwgICAgICAgIOeUqOaIt+mCrueusSAg5pqC5pe25rKhXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMg5Yib5bu65oiQ5Yqf6L+U5Zue55So5oi35L+h5oGv77yM5aSx6LSl6L+U5Zue6ZSZ6K+v5L+h5oGvXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGUocmVxLCByZXMpIHtcclxuICAgICAgICBsZXQgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICBOaWNrbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgICAgICAgICAgUGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkLFxyXG4gICAgICAgICAgICAvLyBlbWFpbCxcclxuICAgICAgICAgICAgLy8gdXNlcnRva2VuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDmo4DmtYvlj4LmlbDmmK/lkKblrZjlnKjkuLrnqbpcclxuICAgICAgICBsZXQgZXJyb3JzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBpbiBwYXJhbXMpIHtcclxuICAgICAgICAgICAgaWYgKHBhcmFtc1tpdGVtXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBlcnJvcnMubGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKFwi6ZSZ6K+vXCIgKyBpbmRleCArIFwiOiDlj4LmlbA6IFwiICsgaXRlbSArIFwi5LiN6IO95Li656m6XCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzID0gNDEyO1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA0MTIsXHJcbiAgICAgICAgICAgICAgICBtc2c6IGVycm9yc1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDmn6Xor6LnlKjmiLflkI3mmK/lkKbph43lpI1cclxuICAgICAgICBjb25zdCBleGlzdFVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuTmlja25hbWUocGFyYW1zLk5pY2tuYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKGV4aXN0VXNlcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzID0gNDAzO1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICBtc2c6IFwi55So5oi35bey57uP5a2Y5ZyoXCJcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vIOino+WvhuWvhueggVxyXG4gICAgICAgICAgICAgICAgcGFyYW1zLlBhc3N3b3JkID0gY3J5cHRvLnByaXZhdGVEZWNyeXB0KGdsb2JhbC5wcml2YXRlX2tleSwgQnVmZmVyLmZyb20ocGFyYW1zLlBhc3N3b3JkLCAnYmFzZTY0JykpLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g5Yib5bu655So5oi3XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgVXNlck1vZGVsLmNyZWF0ZShwYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOetvuWPkXRva2VuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NfdG9rZW4gPSBUb2tlbi5zZXRUb2tlbihuZXdVc2VyLmlkLCAxMCAqIDYwICogNjApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVmcmVzaF90b2tlbiA9IFRva2VuLnNldFRva2VuKG5ld1VzZXIuaWQsIDE1ICogMjQgKiA2MCAqIDYwKTtcclxuICAgICAgICAgICAgICAgIFRva2VuLnJlZGlzU2V0KGFjY2Vzc190b2tlbiwgcmVmcmVzaF90b2tlbik7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyA9IDIwMDtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbXNnOiBg5Yib5bu655So5oi35oiQ5YqfYCxcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA1MDA7XHJcbiAgICAgICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogZXJyXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55m75b2VXHJcbiAgICAgKiAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGxvZ2luKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgTmlja25hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICAgICAgICAgIFBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcclxuICAgICAgICAgICAgLy8gZW1haWwsXHJcbiAgICAgICAgICAgIC8vIHVzZXJ0b2tlblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5qOA5rWL5Y+C5pWw5piv5ZCm5a2Y5Zyo5Li656m6XHJcbiAgICAgICAgbGV0IGVycm9ycyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gaW4gcGFyYW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJhbXNbaXRlbV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gZXJyb3JzLmxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChcIumUmeivr1wiICsgaW5kZXggKyBcIjog5Y+C5pWwOiBcIiArIGl0ZW0gKyBcIuS4jeiDveS4uuepulwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyA9IDQxMjtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgY29kZTogNDEyLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBlcnJvcnNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDop6Plr4blr4bnoIFcclxuICAgICAgICBwYXJhbXMuUGFzc3dvcmQgPSBjcnlwdG8ucHJpdmF0ZURlY3J5cHQoZ2xvYmFsLnByaXZhdGVfa2V5LCBCdWZmZXIuZnJvbShwYXJhbXMuUGFzc3dvcmQsICdiYXNlNjQnKSk7XHJcblxyXG4gICAgICAgIC8vIOafpeivoueUqOaIt+WQjeaYr+WQpumHjeWkjVxyXG4gICAgICAgIGNvbnN0IGV4aXN0VXNlciA9IGF3YWl0IFVzZXJNb2RlbC5QYXNzd29yZChwYXJhbXMuTmlja25hbWUsIHBhcmFtcy5QYXNzd29yZCk7XHJcblxyXG4gICAgICAgIGlmIChleGlzdFVzZXIpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDnrb7lj5F0b2tlblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYWNjZXNzX3Rva2VuID0gVG9rZW4uc2V0VG9rZW4oZXhpc3RVc2VyLmlkLCA2MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWZyZXNoX3Rva2VuID0gVG9rZW4uc2V0VG9rZW4oZXhpc3RVc2VyLmlkLCAxNSAqIDI0ICogNjAgKiA2MCk7XHJcbiAgICAgICAgICAgICAgICBUb2tlbi5yZWRpc1NldChhY2Nlc3NfdG9rZW4sIHJlZnJlc2hfdG9rZW4pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMgPSAyMDA7XHJcbiAgICAgICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogYOeUqOaIt+eZu+W9leaIkOWKn2AsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IGFjY2Vzc190b2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcl9pZDogZXhpc3RVc2VyLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA1MDA7XHJcbiAgICAgICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogZXJyXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgY29kZTogNDA0LFxyXG4gICAgICAgICAgICAgICAgbXNnOiBcIueUqOaIt+WQjeaIluWvhueggemUmeivr1wiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5Zu+5YOP6aqM6K+B56CBXHJcbiAgICAgKiBAcGFyYW0geyp9IHJlcSBcclxuICAgICAqIEBwYXJhbSB7Kn0gcmVzIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgY29kZShyZXEsIHJlcykge1xyXG4gICAgICAgIHZhciBjYXB0Y2hhID0gc3ZnQ2FwdGNoYS5jcmVhdGUoe1xyXG4gICAgICAgICAgICAvLyDnv7vovazpopzoibJcclxuICAgICAgICAgICAgaW52ZXJzZTogZmFsc2UsXHJcbiAgICAgICAgICAgIC8vIOWtl+S9k+Wkp+Wwj1xyXG4gICAgICAgICAgICBmb250U2l6ZTogMzYsXHJcbiAgICAgICAgICAgIC8vIOWZquWjsOe6v+adoeaVsFxyXG4gICAgICAgICAgICBub2lzZTogMixcclxuICAgICAgICAgICAgLy8g5a695bqmXHJcbiAgICAgICAgICAgIHdpZHRoOiA4MCxcclxuICAgICAgICAgICAgLy8g6auY5bqmXHJcbiAgICAgICAgICAgIGhlaWdodDogMzAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8g5L+d5a2Y5Yiwc2Vzc2lvbizlv73nlaXlpKflsI/lhplcclxuICAgICAgICByZXEuc2Vzc2lvbiA9IGNhcHRjaGEudGV4dC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIC8vIC8v5L+d5a2Y5YiwY29va2llIOaWueS+v+WJjeerr+iwg+eUqOmqjOivgVxyXG4gICAgICAgIHJlcy5jb29raWUoJ2NhcHRjaGEnLCByZXEuc2Vzc2lvbik7XHJcbiAgICAgICAgLy8gcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2ltYWdlL3N2Zyt4bWwnKTtcclxuICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgaW1nOiBjYXB0Y2hhLmRhdGEsXHJcbiAgICAgICAgICAgIG1zZzogcmVxLnNlc3Npb25cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6L+U5Zue5a6i5oi356uv5YWs6ZKlXHJcbiAgICAgKiBAcGFyYW0geypyZXF9XHJcbiAgICAgKiBAcGFyYW0geypyZXN9XHJcbiAgICAgKiBAcmV0dXJucyB7KnB1YmxpY19rZXl9IOi/lOWbniDlhazpkqVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHB1YmxpY19rZXkocmVxLCByZXMpIHtcclxuICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgbXNnOiBnbG9iYWwucHVibGljX2tleVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja7nsbvlnovojrflj5bnlKjmiLflkI3ljZVcclxuICAgICAqIEBwYXJhbSB7KnR5cGV9IHJlcSAg55So5oi357G75Z6LIFxyXG4gICAgICogQHBhcmFtIHsqfSByZXMgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBsaXN0KHJlcSwgcmVzKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAvLyDmo4DmtYvlj4LmlbDmmK/lkKblrZjlnKjkuLrnqbpcclxuICAgICAgICBsZXQgZXJyb3JzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBpbiBwYXJhbXMpIHtcclxuICAgICAgICAgICAgaWYgKHBhcmFtc1tpdGVtXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBlcnJvcnMubGVuZ3RoICsgMTtcclxuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKFwi6ZSZ6K+vXCIgKyBpbmRleCArIFwiOiDlj4LmlbA6IFwiICsgaXRlbSArIFwi5LiN6IO95Li656m6XCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzID0gNDEyO1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA0MTIsXHJcbiAgICAgICAgICAgICAgICBtc2c6IGVycm9yc1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHVzZXJMaXN0ID0gYXdhaXQgVXNlck1vZGVsLmZpbmRBbGxVc2VyTGlzdChwYXJhbXMudHlwZSk7XHJcblxyXG4gICAgICAgIGlmICh1c2VyTGlzdCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB1c2VyTGlzdFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zZzogZXJyXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdXBsb2FkSW1nKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGltZzogXCJodHRwOi8venEuaW1nLmNvbS9cIiArIHJlcS5maWxlLmZpbGVuYW1lXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXIiLCJjb25zdCBkYiA9IHJlcXVpcmUoJy4uL2NvbmZpZy9zZXF1ZWxpemUuY29uZmlnJylcclxuY29uc3QgU2VxdWVsaXplID0gZGIuc2VxdWVsaXplO1xyXG5jb25zdCBVc2VyID0gU2VxdWVsaXplLmltcG9ydCgnLi4vc2NoZW1hL3VzZXIuanMnKVxyXG5cclxuVXNlci5zeW5jKHtmb3JjZTogZmFsc2V9KTtcclxuXHJcbmNsYXNzIFVzZXJNb2RlbCB7XHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uueUqOaIt1xyXG4gICAgICogQHBhcmFtIHVzZXJcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlKHVzZXIpIHtcclxuICAgICAgICBsZXQge05pY2tuYW1lLCBQYXNzd29yZCwvKiBlbWFpbCwgVXNlcnRva2VuKi99ID0gdXNlcjtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IFVzZXIuY3JlYXRlKHtcclxuICAgICAgICAgICAgTmlja25hbWUsXHJcbiAgICAgICAgICAgIFBhc3N3b3JkLFxyXG4gICAgICAgICAgICAvLyBlbWFpbCxcclxuICAgICAgICAgICAgLy8gVXNlcnRva2VuLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIoOmZpOeUqOaIt1xyXG4gICAgICogQHBhcmFtIGlkIGxpc3RJRFxyXG4gICAgICogQHJldHVybnMge1Byb21pc2UuPGJvb2xlYW4+fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlKGlkKSB7XHJcbiAgICAgICAgYXdhaXQgVXNlci5kZXN0cm95KHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5p+l6K+i55So5oi35YiX6KGoXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTwqPn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGZpbmRBbGxVc2VyTGlzdCh0eXBlKSB7XHJcbiAgICAgICAgaWYoIU51bWJlcih0eXBlKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBVc2VyLmZpbmRBbGwoe1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogWydpZCcsICdOaWNrbmFtZSddLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgVXNlci5maW5kQWxsKHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFsnaWQnLCAnTmlja25hbWUnXSxcclxuICAgICAgICAgICAgICAgIHdoZXJlOntcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOnR5cGVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5p+l6K+i55So5oi35L+h5oGvXHJcbiAgICAgKiBAcGFyYW0gTmlja25hbWUgIOWnk+WQjVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2UuPCo+fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgTmlja25hbWUoTmlja25hbWUpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIE5pY2tuYW1lXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmn6Xor6LnlKjmiLfkv6Hmga9cclxuICAgICAqIEBwYXJhbSBOaWNrbmFtZSAg5aeT5ZCNXHJcbiAgICAgKiBAcGFyYW0gUGFzc3dvcmQgIOWvhueggVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2UuPCo+fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgUGFzc3dvcmQoTmlja25hbWUsUGFzc3dvcmQpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIE5pY2tuYW1lLFBhc3N3b3JkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBVc2VyTW9kZWxcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpOyIsIi8q5pWw5o2u5bqT6YWN572u5paH5Lu2Ki9cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICAvLyDmiZPlvIDlk6rkuKrmlbDmja7lupNcclxuICAgIG15c3FsOntcclxuICAgICAgICBob3N0OiAnOTUuMTY5LjIwLjUzJywvLzk1LjE2OS4yMC41M1xyXG4gICAgICAgIHVzZXI6ICdyb290JyxcclxuICAgICAgICBwYXNzd29yZDogJ1pxQDU3NDgzOScsICAvL1pxQDU3NDgzOVxyXG4gICAgICAgIGRhdGFiYXNlOiAnenFxJyxcclxuICAgICAgICBwb3J0OiAnMzMwNicsXHJcbiAgICAgICAgLy8g5pWw5o2u6KGo55u45YWz55qE5YWo5bGA6YWN572uXHJcbiAgICAgICAgLy8gZGVmaW5lOiB7XHJcbiAgICAgICAgLy8gICAgIC8vIOaYr+WQpuWGu+e7k+ihqOWQjVxyXG4gICAgICAgIC8vICAgICAvLyDpu5jorqTmg4XlhrXkuIvvvIzooajlkI3kvJrovazmjaLkuLrlpI3mlbDlvaLlvI9cclxuICAgICAgICAvLyAgICAgZnJlZXplVGFibGVOYW1lOiB0cnVlLFxyXG4gICAgICAgIC8vICAgICAvLyDmmK/lkKbkuLrooajmt7vliqAgY3JlYXRlZEF0IOWSjCB1cGRhdGVkQXQg5a2X5q61XHJcbiAgICAgICAgLy8gICAgIC8vIGNyZWF0ZWRBdCDorrDlvZXooajnmoTliJvlu7rml7bpl7RcclxuICAgICAgICAvLyAgICAgLy8gdXBkYXRlZEF0IOiusOW9leWtl+auteabtOaWsOaXtumXtFxyXG4gICAgICAgIC8vICAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gICAgICAgIC8vICAgICAvLyDmmK/lkKbkuLrooajmt7vliqAgZGVsZXRlZEF0IOWtl+autVxyXG4gICAgICAgIC8vICAgICAvLyDpu5jorqTmg4XlhrXkuIssIGRlc3Ryb3koKSDmlrnms5XkvJrliKDpmaTmlbDmja7vvIxcclxuICAgICAgICAvLyAgICAgLy8g6K6+572uIHBhcmFub2lkIOS4uiB0cnVlIOaXtu+8jOWwhuS8muabtOaWsCBkZWxldGVkQXQg5a2X5q6177yM5bm25LiN5Lya55yf5a6e5Yig6Zmk5pWw5o2u44CCXHJcbiAgICAgICAgLy8gICAgIHBhcmFub2lkOiBmYWxzZVxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxufVxyXG4gICAgIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic3ZnLWNhcHRjaGFcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3J5cHRvXCIpOyIsImNvbnN0IGV4YW1Nb2RlbCA9IHJlcXVpcmUoJy4uL21vZGVscy9leGFtTW9kZWwnKTtcclxuY29uc3QgcXVlc01vZGVsID0gcmVxdWlyZSgnLi4vbW9kZWxzL3F1ZXNNb2RlbCcpO1xyXG5jb25zdCBvcHRpb25Nb2RlbCA9IHJlcXVpcmUoJy4uL21vZGVscy9vcHRpb25Nb2RlbCcpO1xyXG5jb25zdCB1c2VyRXhhbT1yZXF1aXJlKFwiLi4vbW9kZWxzL3VzZXJleGFtTW9kZWxcIilcclxuY29uc3QgY29tbW9uID0gcmVxdWlyZSgnLi9jb21tb24nKTtcclxuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwiLi4vY29uZmlnL3Rva2VuLmNvbmZpZ1wiKVxyXG5cclxuY2xhc3MgRXhhbSB7XHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uueUqOaIt1xyXG4gICAgICogQHBhcmFtICAgdGl0bGUgICAgIOivleWNt+agh+mimFxyXG4gICAgICogQHBhcmFtICAgc3RhdHVzICAgIOivleWNt+eKtuaAgSDvvIjmmK/lkKblj5HluIPvvIlcclxuICAgICAqIEBwYXJhbSAgIGV4cGxhaW4gICDor5Xljbfor7TmmI5cclxuICAgICAqIEBwYXJhbSAgIHRlc3R0aW1lICDogIPor5XpmZDliLbml7bpl7RcclxuICAgICAqIEByZXR1cm5zIOWIm+W7uuaIkOWKn+i/lOWbnueUqOaIt+S/oeaBr++8jOWksei0pei/lOWbnumUmeivr+S/oeaBr1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHJlcS5ib2R5O1xyXG4gICAgICAgIGxldCB0b2tlbiA9IGF3YWl0IFRva2VuLmNoZWNrVG9rZW4ocmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbik7XHJcbiAgICAgICAgcGFyYW1zLnVzZXJfaWQgPSB0b2tlbi51aWQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoZWNrRGF0YSA9IGF3YWl0IGNvbW1vbi5jaGVja0RhdGEocGFyYW1zLCByZXMpOyAvLyDmo4DmtYvlj4LmlbDmmK/lkKblrZjlnKjkuLrnqbpcclxuICAgICAgICBpZiAoIWNoZWNrRGF0YSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vZXhhbV9pZD09MCAg5paw5Yib5bu655qE5paH5Lu2XHJcbiAgICAgICAgICAgIGlmIChwYXJhbXMuZXhhbV9pZCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjcmVhdGVFeGFtID0gYXdhaXQgZXhhbU1vZGVsLmNyZWF0ZUV4YW0ocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIGlmIChjcmVhdGVFeGFtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyA9IDIwMDtcclxuICAgICAgICAgICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNyZWF0ZUV4YW0uaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBcIuaPkOS6pOaIkOWKn++8gVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFsdGVyRXhhbSA9IGF3YWl0IGV4YW1Nb2RlbC5hbHRlckV4YW0ocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIGlmIChhbHRlckV4YW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzID0gMjAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcGFyYW1zLmV4YW1faWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBcIuS/ruaUueaIkOWKn1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzID0gNDEyO1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA0MTIsXHJcbiAgICAgICAgICAgICAgICBtc2c6IGVyclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlumXruWNt+WIl+ihqCAgXHJcbiAgICAgKiBAcGFyYW0geyp9IHJlcSBcclxuICAgICAqIEBwYXJhbSB7Kn0gcmVzIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZ2V0bGlzdChyZXEsIHJlcykge1xyXG4gICAgICAgIGxldCBwYXJhbXMgPSByZXEucXVlcnk7XHJcbiAgICAgICAgbGV0IHRva2VuID0gYXdhaXQgVG9rZW4uY2hlY2tUb2tlbihyZXEuaGVhZGVycy5hdXRob3JpemF0aW9uKTtcclxuICAgICAgICBwYXJhbXMudXNlcl9pZCA9IHRva2VuLnVpZDtcclxuXHJcbiAgICAgICAgbGV0IGNoZWNrZGF0YSA9IGF3YWl0IGNvbW1vbi5jaGVja0RhdGEocGFyYW1zLCByZXMpO1xyXG4gICAgICAgIGlmICghY2hlY2tkYXRhKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgZXhhbU1vZGVsLmdldGxpc3QocGFyYW1zKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzID0gMjAwO1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcnM6IHVzZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFfdG90YWw6IFwiMlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHA6IFwiMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2Vfcm93czogXCIxMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VfdG90YWw6IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcnMpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyA9IDQxMjtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgY29kZTogNDEyLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBlcnJvcnNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L+u5pS56ICD5Y2354q25oCBXHJcbiAgICAgKiBAcGFyYW0geypleGFtX2lkfSByZXEgXHJcbiAgICAgKiBAcGFyYW0geypzdGF0dXN9ICA9PTAg57uT5p2f5pys5qyh6ICD6K+VICAgPT0xIOWPkeW4g+acrOasoeiAg+ivlSAgPT0y5L2c5bqf5pys5qyh6ICD6K+VICA9PTPliKDpmaTmnKzmrKHor5XljbcgXHJcbiAgICAgKiBAcGFyYW0geyp9IHJlcyBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHBhdGNoRXhhbShyZXEsIHJlcykge1xyXG4gICAgICAgIGxldCBwYXJhbXMgPSByZXEuYm9keTtcclxuICAgICAgICBsZXQgdG9rZW4gPSBhd2FpdCBUb2tlbi5jaGVja1Rva2VuKHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24pO1xyXG4gICAgICAgIHBhcmFtcy51c2VyX2lkID0gdG9rZW4udWlkO1xyXG5cclxuICAgICAgICBsZXQgY2hlY2tkYXRhID0gYXdhaXQgY29tbW9uLmNoZWNrRGF0YShwYXJhbXMsIHJlcyk7XHJcbiAgICAgICAgaWYgKCFjaGVja2RhdGEpIHJldHVybiBmYWxzZTtcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIGF3YWl0IGV4YW1Nb2RlbC5jaGFuZ2VTdGF0dXMocGFyYW1zKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cz0yMDA7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6MjAwLFxyXG4gICAgICAgICAgICAgICAgbXNnOlwi54q25oCB5L+u5pS55oiQ5YqfXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cz00MTI7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6NTAwLFxyXG4gICAgICAgICAgICAgICAgbXNnOmVyclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKDpmaTor5XljbdcclxuICAgICAqIEBwYXJhbSB7c3RhdHVzPT0zfSByZXEgXHJcbiAgICAgKiBAcGFyYW0geyp9IHJlcyBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGRlbGV0ZUV4YW0ocmVxLCByZXMpIHtcclxuICAgICAgICBsZXQgcGFyYW1zID0gcmVxLmJvZHk7XHJcbiAgICAgICAgLy8g5qOA5rWL5Y+C5pWw5piv5ZCm5a2Y5Zyo5Li656m6XHJcbiAgICAgICAgbGV0IGNoZWNrZGF0YSA9IGF3YWl0IGNvbW1vbi5jaGVja0RhdGEocGFyYW1zLCByZXMpO1xyXG4gICAgICAgIGlmICghY2hlY2tkYXRhKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG9wdGlvbk1vZGVsLmRlbGV0ZU9wdGlvbkJ5RXhhbWlkKHBhcmFtcy5leGFtX2lkKTtcclxuICAgICAgICAgICAgYXdhaXQgcXVlc01vZGVsLmRlbFF1ZXNCeUV4YW1pZChwYXJhbXMuZXhhbV9pZCk7XHJcbiAgICAgICAgICAgIGF3YWl0IGV4YW1Nb2RlbC5kZWxldGVFeGFtKHBhcmFtcy5leGFtX2lkKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyA9IDIwMDtcclxuICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBcIumXruWNt+WIoOmZpOaIkOWKn1wiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA0MTI7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGVyclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEV4YW0gIiwiY29uc3QgZGIgPSByZXF1aXJlKCcuLi9jb25maWcvc2VxdWVsaXplLmNvbmZpZycpXHJcbmNvbnN0IFNlcXVlbGl6ZSA9IGRiLnNlcXVlbGl6ZTtcclxuY29uc3QgdXNlckV4YW0gPSBTZXF1ZWxpemUuaW1wb3J0KCcuLi9zY2hlbWEvdXNlcl9leGFtLmpzJylcclxuY29uc3QgT3A9U2VxdWVsaXplLk9wO1xyXG51c2VyRXhhbS5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pO1xyXG5cclxuY2xhc3MgdXNlcmV4YW1Nb2RlbCB7XHJcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlKHJlcykge1xyXG4gICAgICAgIGxldCB7IHVzZXJfaWQsIGV4YW1faWQsIHN0YXR1cyB9ID0gcmVzO1xyXG4gICAgICAgIHJldHVybiB1c2VyRXhhbS5jcmVhdGUoe1xyXG4gICAgICAgICAgICB1c2VyX2lkLCBleGFtX2lkLCBzdGF0dXNcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBnZXRFeGFtKHJlcykge1xyXG4gICAgICAgIGxldCB7c3RhdHVzICx1c2VyaWR9PXJlcztcclxuICAgICAgICByZXR1cm4gdXNlckV4YW0uZmluZEFsbCh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICB1c2VyaWQ6IHVzZXJpZCxcclxuICAgICAgICAgICAgICAgIHN0YXR1czpzdGF0dXM9PS0xPyc+MCc6c3RhdHVzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhc3luYyBnZXRVc2VyKHJlcykge1xyXG4gICAgICAgIHJldHVybiB1c2VyRXhhbS5maW5kQWxsKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGV4YW1pZDogZXhhbWlkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHVzZXJleGFtTW9kZWxcclxuIiwiY29uc3QgYW5zd2VyTW9kZWwgPSByZXF1aXJlKCcuLi9tb2RlbHMvYW5zd2VyTW9kZWwnKTtcclxuY29uc3QgcXVlc01vZGVsID0gcmVxdWlyZSgnLi4vbW9kZWxzL3F1ZXNNb2RlbCcpO1xyXG5jb25zdCBvcHRpb25Nb2RlbCA9IHJlcXVpcmUoJy4uL21vZGVscy9vcHRpb25Nb2RlbCcpO1xyXG5jb25zdCBjb21tb24gPSByZXF1aXJlKCcuL2NvbW1vbicpO1xyXG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCIuLi9jb25maWcvdG9rZW4uY29uZmlnXCIpXHJcblxyXG5jbGFzcyBBbnN3ZXIge1xyXG4gICAgc3RhdGljIGFzeW5jIGFuc3dlckxpc3QocmVxLCByZXMpIHtcclxuICAgICAgICBsZXQgcGFyYW1zID0gcmVxLnF1ZXJ5O1xyXG4gICAgICAgIGxldCB0b2tlbiA9IGF3YWl0IFRva2VuLmNoZWNrVG9rZW4ocmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbik7XHJcbiAgICAgICAgcGFyYW1zLnVzZXJfaWQgPSB0b2tlbi51aWQ7XHJcbiAgICAgICAgbGV0IGVycm9ycyA9IGF3YWl0IGNvbW1vbi5jaGVja0RhdGEocGFyYW1zKTtcclxuICAgICAgICBpZiAoIWVycm9ycykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhbnN3ZXJMaXN0PWF3YWl0IGFuc3dlck1vZGVsLmFuc3dlckxpc3QocGFyYW1zKTtcclxuICAgICAgICAgICAgaWYoYW5zd2VyTGlzdCl7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzID0gNDEyO1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6IGVyclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEFuc3dlciAiLCJjb25zdCBkYiA9IHJlcXVpcmUoJy4uL2NvbmZpZy9zZXF1ZWxpemUuY29uZmlnJylcclxuY29uc3QgU2VxdWVsaXplID0gZGIuc2VxdWVsaXplO1xyXG5jb25zdCBhbnN3ZXIgPSBTZXF1ZWxpemUuaW1wb3J0KCcuLi9zY2hlbWEvYW5zd2VyLmpzJylcclxuXHJcbmFuc3dlci5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pO1xyXG5cclxuY2xhc3MgQW5zd2VyTW9kZWwge1xyXG4gICAgc3RhdGljIGFzeW5jIGFuc3dlckxpc3QocmVzKSB7XHJcbiAgICAgICAgbGV0IHsgdXNlcl9pZCwgZXhhbV9pZCwgY29udGVudCB9ID0gcmVzO1xyXG4gICAgICAgIHJldHVybiBhbnN3ZXIuZmluZEFsbCh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGV4YW1pZDogZXhhbV9pZCxcclxuICAgICAgICAgICAgICAgIGlkOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcmlkOmNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcmlkOnVzZXJfaWRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBBbnN3ZXJNb2RlbFxyXG4iLCJjb25zdCBleGFtTW9kZWwgPSByZXF1aXJlKCcuLi9tb2RlbHMvZXhhbU1vZGVsJyk7XHJcbmNvbnN0IHF1ZXNNb2RlbCA9IHJlcXVpcmUoJy4uL21vZGVscy9xdWVzTW9kZWwnKTtcclxuY29uc3Qgb3B0aW9uTW9kZWwgPSByZXF1aXJlKCcuLi9tb2RlbHMvb3B0aW9uTW9kZWwnKTtcclxuY29uc3QgY29tbW9uID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvY29tbW9uJyk7XHJcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcIi4uL2NvbmZpZy90b2tlbi5jb25maWdcIilcclxuXHJcbmNsYXNzIFF1ZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5qC55o2ucXVlc3Rpb25faWQg5Yig6Zmk5p+Q5Liq6aKY55uuXHJcbiAgICAgKiBAcGFyYW0ge2lkfSByZXEgXHJcbiAgICAgKiBAcGFyYW0geyp9IHJlcyBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGRlbGV0ZXF1ZXN0aW9uKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHJlcS5ib2R5O1xyXG4gICAgICAgIC8vIOajgOa1i+WPguaVsOaYr+WQpuWtmOWcqOS4uuepulxyXG4gICAgICAgIGxldCBlcnJvcnMgPSBhd2FpdCBjb21tb24uY2hlY2tEYXRhKHBhcmFtcywgcmVzKTtcclxuICAgICAgICBpZiAoIWVycm9ycykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBvcHRpb25Nb2RlbC5kZWxldGVPcHRpb25CeVF1ZXNpZChwYXJhbXMuaWQpO1xyXG4gICAgICAgICAgICBhd2FpdCBxdWVzTW9kZWwuZGVsUXVlcyhwYXJhbXMpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzID0gMjAwO1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICfpopjnm67liKDpmaTmiJDlip8nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA1MDA7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGVyclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rpopjnm64gXHJcbiAgICAgKiBAcGFyYW0geypxdWVzdGlvbl9pZH0gcmVxICBxdWVzdGlvbl9pZD09MCDliJvlu7rpopjnm65cclxuICAgICAqIEBwYXJhbSB7Kn0gcmVzIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAvLyDmo4DmtYvlj4LmlbDmmK/lkKblrZjlnKjkuLrnqbpcclxuICAgICAgICBsZXQgZXJyb3JzID0gY29tbW9uLmNoZWNrRGF0YShwYXJhbXMsIHJlcyk7XHJcbiAgICAgICAgaWYgKCFlcnJvcnMpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY3JlYXRlUXVlcyA9IGF3YWl0IHF1ZXNNb2RlbC5jcmVhdGVRdWVzKHBhcmFtcyk7XHJcbiAgICAgICAgICAgIGlmIChjcmVhdGVRdWVzKSB7XHJcbiAgICAgICAgICAgICAgICAvL3F1ZXN0aW9uVHlwZSAg5Yik5pat6aKY55uu57G75Z6LICDpnZ7nroDnrZTpopjmiY3mnInpgInpoblcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMucXVlc3Rpb25UeXBlICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHBhcmFtcy5vcHRpb25kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsc19vcHRpb24gPSBwYXJhbXMub3B0aW9uZGF0YVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbHNfb3B0aW9uLmV4YW1faWQgPSBwYXJhbXMuZXhhbV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbHNfb3B0aW9uLnF1ZXN0aW9uX2lkID0gY3JlYXRlUXVlcy5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgb3B0aW9uTW9kZWwuY3JlYXRlT3B0aW9uKGxzX29wdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyA9IDIwMDtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbXNnOiBcIuS4iuS8oOaIkOWKn1wiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA0MTI7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgIG1zZzogZXJyXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5L+u5pS56aKY55uuXHJcbiAgICAgKiBAcGFyYW0geypxdWVzdGlvbl9pZH0gcXVlc3Rpb25faWQgIT0wXHJcbiAgICAgKiBAcGFyYW0geypvcHRpb25faWR9IG9wdGlvbl9pZCA9PTDliJvlu7rpgInpobkgIG9wdGlvbl9pZCAhPTDkv67mlLnpgInpoblcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIHBhdGNoUXVlcyhyZXEsIHJlcykge1xyXG4gICAgICAgIGxldCBwYXJhbXMgPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgLy8g5qOA5rWL5Y+C5pWw5piv5ZCm5a2Y5Zyo5Li656m6XHJcbiAgICAgICAgbGV0IGVycm9ycyA9IGNvbW1vbi5jaGVja0RhdGEocGFyYW1zLCByZXMpO1xyXG4gICAgICAgIGlmICghZXJyb3JzKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8v5L+u5pS56Zeu6aKYICBcclxuICAgICAgICAgICAgY29uc3QgYWx0ZXJRdWVzID0gYXdhaXQgcXVlc01vZGVsLmFsdGVyUXVlcyhwYXJhbXMpO1xyXG4gICAgICAgICAgICBpZiAocGFyYW1zLnF1ZXN0aW9uVHlwZSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvL+S/ruaUuemAiemhuSAgIOW9k29wdGlvbl9pZD09MOaYr+ivpemAiemhueS4uuaWsOW7ulxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBwYXJhbXMub3B0aW9uZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5vcHRpb25kYXRhW2ldLnF1ZXN0aW9uX2lkID0gcGFyYW1zLnF1ZXN0aW9uX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5vcHRpb25kYXRhW2ldLmV4YW1faWQgPSBwYXJhbXMuZXhhbV9pZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLm9wdGlvbmRhdGFbaV0ub3B0aW9uX2lkID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZU9wdGlvbiA9IGF3YWl0IG9wdGlvbk1vZGVsLmNyZWF0ZU9wdGlvbihwYXJhbXMub3B0aW9uZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3JlYXRlT3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzID0gNTAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6IFwi6aKY55uu5LiK5Lyg6ZSZ6K+vXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWx0ZXJPcHRpb24gPSBhd2FpdCBvcHRpb25Nb2RlbC5hbHRlck9wdGlvbihwYXJhbXMub3B0aW9uZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWx0ZXJPcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA1MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogXCLpopjnm67kuIrkvKDplJnor69cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWx0ZXJRdWVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzID0gMjAwO1xyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzID0gNDEyO1xyXG4gICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgICAgICBtc2c6IGVyclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgKiDmoLnmja5leGFtX2lkIOiOt+WPluivleWNt+WSjOmimOebrlxyXG4gICAqIEBwYXJhbSB7Kn0gcmVxIFxyXG4gICAqIEBwYXJhbSB7Kn0gcmVzIFxyXG4gICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGdldFF1ZXN0aW9ucyhyZXEsIHJlcykge1xyXG4gICAgICAgIGxldCBwYXJhbXMgPSByZXEucXVlcnk7XHJcbiAgICAgICAgbGV0IHRva2VuID0gYXdhaXQgVG9rZW4uY2hlY2tUb2tlbihyZXEuaGVhZGVycy5hdXRob3JpemF0aW9uKTtcclxuICAgICAgICBwYXJhbXMudXNlcl9pZCA9IHRva2VuLnVpZDtcclxuICAgICAgICAvLyDmo4DmtYvlj4LmlbDmmK/lkKblrZjlnKjkuLrnqbpcclxuICAgICAgICBsZXQgZXJyb3JzID0gYXdhaXQgY29tbW9uLmNoZWNrRGF0YShwYXJhbXMsIHJlcyk7XHJcbiAgICAgICAgaWYgKCFlcnJvcnMpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSBhd2FpdCBleGFtTW9kZWwuZmluZEV4YW0ocGFyYW1zKTtcclxuICAgICAgICBjb25zdCBxdWVzdGlvbnMgPSBhd2FpdCBxdWVzTW9kZWwuc2VsZWN0UXVlcyhwYXJhbXMuZXhhbV9pZCk7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aXRsZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxzX3RpdGxlID0gdGl0bGVbMF0uZGF0YVZhbHVlcywgbHNfcXVlc3Rpb24gPSBbXSwgbHNfb3B0aW9uID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHF1ZXN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxzX3F1ZXN0aW9uLnB1c2gocXVlc3Rpb25zW2ldLmRhdGFWYWx1ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxzX29wdGlvbiA9IGF3YWl0IG9wdGlvbk1vZGVsLmZpbmRBbGxPcHRpb24ocXVlc3Rpb25zW2ldLmRhdGFWYWx1ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxzX3F1ZXN0aW9uW2ldLm9wdGlvbmRhdGEgPSBsc19vcHRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgbHNfcXVlc3Rpb25baV0ucXVlc3Rpb25faWQgPSBxdWVzdGlvbnNbaV0uZGF0YVZhbHVlcy5pZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxzX3RpdGxlLmxpc3QgPSBsc19xdWVzdGlvbjtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMgPSAyMDA7XHJcbiAgICAgICAgICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGxzX3RpdGxlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA1MDA7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGVyclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gUXVlcyIsImNvbnN0IGV4YW1Nb2RlbCA9IHJlcXVpcmUoJy4uL21vZGVscy9leGFtTW9kZWwnKTtcclxuY29uc3QgcXVlc01vZGVsID0gcmVxdWlyZSgnLi4vbW9kZWxzL3F1ZXNNb2RlbCcpO1xyXG5jb25zdCBvcHRpb25Nb2RlbCA9IHJlcXVpcmUoJy4uL21vZGVscy9vcHRpb25Nb2RlbCcpO1xyXG5jb25zdCBjb21tb24gPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9jb21tb24nKTtcclxuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwiLi4vY29uZmlnL3Rva2VuLmNvbmZpZ1wiKVxyXG5cclxuY2xhc3MgT3B0aW9uIHtcclxuICAgIC8qKlxyXG4gICAgKiDliKDpmaTpgInpoblcclxuICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlT3B0aW9uKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHJlcS5ib2R5O1xyXG4gICAgICAgIC8vIOajgOa1i+WPguaVsOaYr+WQpuWtmOWcqOS4uuepulxyXG4gICAgICAgIGxldCBlcnJvcnMgPWF3YWl0IGNvbW1vbi5jaGVja0RhdGEocGFyYW1zLHJlcyk7XHJcbiAgICAgICAgaWYoIWVycm9ycykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWxPcHRpb24gPSBhd2FpdCBvcHRpb25Nb2RlbC5kZWxldGVPcHRpb24ocGFyYW1zKTtcclxuICAgICAgICAgICAgaWYgKGRlbE9wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyA9IDIwMDtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbXNnOiBcIumAiemhueWIoOmZpOaIkOWKn1wiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMgPSA1MDA7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgIG1zZzogZXJyXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IE9wdGlvbiIsImNvbnN0IG11bHRlciA9IHJlcXVpcmUoJ211bHRlcicpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXHJcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuXHJcbnZhciBjcmVhdGVGb2xkZXIgPSBmdW5jdGlvbiAoZm9sZGVyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZzLmFjY2Vzc1N5bmMoZm9sZGVyKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBmcy5ta2RpclN5bmMoZm9sZGVyKTtcclxuICAgIH1cclxufTtcclxuLy/ov5nkuKrot6/lvoTkuLrmlofku7bkuIrkvKDnmoTmlofku7blpLnnmoTot6/lvoRcclxudmFyIHVwbG9hZEZvbGRlciA9ICcuLi9Vc2VyUGljLyc7XHJcblxyXG5jcmVhdGVGb2xkZXIodXBsb2FkRm9sZGVyKTtcclxuXHJcbi8vIOmAmui/hyBmaWxlbmFtZSDlsZ7mgKflrprliLZcclxudmFyIHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgICAgY2IobnVsbCwgdXBsb2FkRm9sZGVyKTsgICAgLy8g5L+d5a2Y55qE6Lev5b6E77yM5aSH5rOo77ya6ZyA6KaB6Ieq5bex5Yib5bu6XHJcbiAgICB9LFxyXG4gICAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgICAgdmFyIGV4dG5hbWUgPSBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpOy8v6I635Y+W5paH5Lu25omp5bGV5ZCNXHJcbiAgICAgICAgLy8g5bCG5L+d5a2Y5paH5Lu25ZCN6K6+572u5Li6IOWtl+auteWQjSArIOaXtumXtOaIsyvmlofku7bmianlsZXlkI3vvIzmr5TlpoIgbG9nby0xNDc4NTIxNDY4OTQzLmpwZ1xyXG4gICAgICAgIGNiKG51bGwsIGZpbGUuZmllbGRuYW1lICsgJy0nICsgRGF0ZS5ub3coKSArIGV4dG5hbWUpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbnZhciB1cGxvYWRJbWcgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHVwbG9hZEltZyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm11bHRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9